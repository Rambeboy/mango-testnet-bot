const _0x2bcc73=_0x3498;(function(_0x12f665,_0x3bae74){const _0x555635=_0x3498,_0x5b2480=_0x12f665();while(!![]){try{const _0x30852c=parseInt(_0x555635(0x1b0))/0x1*(parseInt(_0x555635(0x1a7))/0x2)+parseInt(_0x555635(0x1f7))/0x3+parseInt(_0x555635(0x1d9))/0x4+parseInt(_0x555635(0x24c))/0x5+parseInt(_0x555635(0x1e7))/0x6+parseInt(_0x555635(0x20c))/0x7*(parseInt(_0x555635(0x21a))/0x8)+parseInt(_0x555635(0x1cc))/0x9*(-parseInt(_0x555635(0x1c4))/0xa);if(_0x30852c===_0x3bae74)break;else _0x5b2480['push'](_0x5b2480['shift']());}catch(_0x3730e6){_0x5b2480['push'](_0x5b2480['shift']());}}}(_0x2829,0xec75d));import{getFullnodeUrl,MgoClient,MgoHTTPTransport}from'@mgonetwork/mango.js/client';import{DEFAULT_ED25519_DERIVATION_PATH,Ed25519Keypair}from'@mgonetwork/mango.js/keypairs/ed25519';import{Helper}from'../utils/helper.js';function _0x3498(_0x3db184,_0x4c1187){const _0x282916=_0x2829();return _0x3498=function(_0x3498e9,_0x38b6fa){_0x3498e9=_0x3498e9-0x1a4;let _0x57e2a8=_0x282916[_0x3498e9];return _0x57e2a8;},_0x3498(_0x3db184,_0x4c1187);}import{bcs,MIST_PER_MGO,TransactionBlock}from'@mgonetwork/mango.js';import{API}from'./api.js';import{SIGNPACKAGE}from'../packages/sign-package.js';import{AMMPACKAGE}from'../packages/amm-package.js';import{COINS}from'../coin/coins.js';import{BEINGDEXPACKAGE}from'../packages/beingdex.js';import{accountList}from'../../accounts/accounts.js';import{proxyList}from'../../config/proxy_list.js';import{MANGOBRIDGEPACKAGE}from'../packages/mangobridge.js';import{BRIDGE}from'../chain/dest_chain.js';import{ethers}from'ethers';import{ERC1967PROXY}from'../abi/erc1967_proxy.js';import{Config}from'../../config/config.js';import _0x24838a from'../utils/logger.js';function _0x2829(){const _0x643ca9=['getBalance','https://task-api.testnet.mangonetwork.io/base/getFaucet','SYMBOL','readTx','SIGNPOOL','1762696OPfPhQ','getMangoUser','toMgoAddress','https://sepolia.etherscan.io','msToTime','MGO','ETH\x20Sepolia','/tx/','::clob::','\x20Accounts\x20But\x20Provide\x20','Delaying\x20for\x20','mergeCoin','https://task-api.testnet.mangonetwork.io/mgoUser/getMgoUser','address','stringify','splitCoins','swapCalculate','Successfully\x20Bridge\x20USDT\x20Token\x20From\x20Mango\x20Network\x20to\x20','info','encode','from','fetch','getPublicKey','coinObjectId','indexOf','TYPE','includes','ethProvider','GET','https://testnet.bscscan.com','Getting\x20Mango\x20Bridge\x20Task\x20Details..','BRIDGERAWDATA','bscProvider','bscBalance','totalBalance','sort','Not\x20Enought\x20ETH\x20Sepolia\x20Balance,\x20Skipping','ETH','Tx\x20Confirmed\x20and\x20Finalizing:\x20','fromPhrase','POST','getDiscordTask','Tx\x20Executed\x20:\x20','delay','Successfully\x20Swapping\x20','balance','ADDRESS','executeTx','Successfully\x20Get\x20Account\x20Balance','Try\x20to\x20Bridge\x20Token\x20From\x20','6331800HDLKag','SIGN','AIUSDTPOOL','Executing\x20Tx\x20...','market_buy','user','mergeCoins','toString','ETHMANGO','2NFDKch','getAccountInfo','Getting\x20Discord\x20Task\x20Details..','\x20until\x20swap\x20balance\x20update','client','Successfully\x20Get\x20Account\x20Information','TX\x20DATA\x20','BNB','token','1018106sPqjYp','executeEvmTx','GLOBALPAUSESTATUSID','floor','https://task-api.testnet.mangonetwork.io/base/taskDetail','Try\x20to\x20Bridge\x20','CLOCK','evmAddress','getAllBalances','pure','Successfully\x20Daily\x20Sign\x20In','0.00001','signPersonalMessage','https://mgoscan.com/txblock/','Getting\x20User\x20Information..','BRIDGEXECUTOR','\x20to\x20','returnValues','formatEther','addStep','20EHoJfF','BNB\x20Testnet','Getting\x20Account\x20Balance...','moveCall','\x20to\x20?\x20','gas','getSwapTask','data','25295967agTmUB','Getting\x20BeingDex\x20Task\x20Details..','AMMSWAP','wait','acc','Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...','connectMango','Wallet','Not\x20Enought\x20BNB\x20Testnet\x20Balance,\x20Skipping','checkIn','getPool','testnet','Trying\x20to\x20Daily\x20Sign\x20In','513108PpIFWu','evmWallet','\x20to\x20Mango\x20Network\x20','MANGOETH','parseEther','bridgeTask','deriveKeypair','determineType','...','getFaucet','getBridgeTask','toFixed','swap','reverse','11201304buflSr','bscWallet','MODULE','slice','message','Connect\x20to\x20Mango\x20test\x20network\x20and\x20sign\x20to\x20receive\x20Gas','signature','msg','Executing\x20TX...','length','Gas','code','Merging\x20','CLOB','devInspectTransactionBlock','evmBalance','3625665maeqVr','BRIDGE','now','Please\x20Provide\x20BRIDGERAWDATA\x20on\x20config.js','Tx\x20Executed\x20and\x20Confirmed\x20\x0a','Exchanging\x20','hash','Successfully\x20Bridge\x20Token\x20From\x20','find','Connecting\x20to\x20mango\x20DAPPS...','results','Failed\x20to\x20Daily\x20Sign\x20In,\x20Possible\x20already\x20Sign\x20In','object','getCoins','https://task-api.testnet.mangonetwork.io/base/addStep','sell','map','::amm_swap::get_pool_id','https://ethereum-sepolia-rpc.publicnode.com','exchangeTask','status','35biEbML','AMMCONFIG','::amm_router::compute_out','JsonRpcProvider','wallet','\x20Accounts,\x20but\x20provide\x20','Try\x20to\x20Swapping\x20','You\x20Have\x20','USDT'];_0x2829=function(){return _0x643ca9;};return _0x2829();}import{ERC1967BSCPROXY}from'../abi/erc1967_proxy_bsc.js';export class CoreService extends API{constructor(_0xcb3094){const _0x109a29=_0x3498;let _0x5c5256;const _0xea154f=Helper[_0x109a29(0x1e0)](_0xcb3094);if(!_0xea154f)throw Error('Sorry\x20this\x20bot\x20is\x20now\x20only\x20support\x20Seed\x20Pharse,\x20Please\x20use\x20Seed\x20Pharse\x20instead\x20of\x20Private\x20Key');if(Config['BRIDGERAWDATA'][_0x109a29(0x1f0)]==0x0)throw Error(_0x109a29(0x1fa));if(Config[_0x109a29(0x239)][_0x109a29(0x1f0)]!=accountList[_0x109a29(0x1f0)])throw Error('You\x20have\x20'+accountList[_0x109a29(0x1f0)]+_0x109a29(0x211)+Config[_0x109a29(0x239)][_0x109a29(0x1f0)]+'\x20BRIDGERAWDATA');const _0x556275=accountList[_0x109a29(0x232)](_0xcb3094);if(proxyList['length']!=accountList[_0x109a29(0x1f0)]&&proxyList[_0x109a29(0x1f0)]!=0x0)throw Error(_0x109a29(0x213)+accountList[_0x109a29(0x1f0)]+_0x109a29(0x223)+proxyList['length']);_0x5c5256=proxyList[_0x556275],super(_0x5c5256),this[_0x109a29(0x1d0)]=_0xcb3094,this[_0x109a29(0x1ab)]=new MgoClient({'transport':new MgoHTTPTransport({'url':getFullnodeUrl(_0x109a29(0x1d7))})}),this['ethProvider']=new ethers[(_0x109a29(0x20f))](_0x109a29(0x209),0xaa36a7),this['bscProvider']=new ethers['JsonRpcProvider']('https://bsc-testnet-rpc.publicnode.com',0x61);}async[_0x2bcc73(0x1a8)](){const _0x3e5754=_0x2bcc73;try{await Helper[_0x3e5754(0x245)](0x1f4,this[_0x3e5754(0x1d0)],'Getting\x20Wallet\x20Information...',this),this['wallet']=Ed25519Keypair[_0x3e5754(0x1df)](this[_0x3e5754(0x1d0)],DEFAULT_ED25519_DERIVATION_PATH),this[_0x3e5754(0x1da)]=ethers[_0x3e5754(0x1d3)]['fromPhrase'](this[_0x3e5754(0x1d0)],this[_0x3e5754(0x235)]),this['bscWallet']=ethers[_0x3e5754(0x1d3)][_0x3e5754(0x241)](this[_0x3e5754(0x1d0)],this[_0x3e5754(0x23a)]),this[_0x3e5754(0x1b7)]=this[_0x3e5754(0x1da)][_0x3e5754(0x227)],this[_0x3e5754(0x227)]=this[_0x3e5754(0x210)][_0x3e5754(0x230)]()[_0x3e5754(0x21c)](),await Helper['delay'](0x3e8,this[_0x3e5754(0x1d0)],_0x3e5754(0x1ac),this);}catch(_0x33cd6b){throw _0x33cd6b;}}async[_0x2bcc73(0x1d2)](){const _0x31a654=_0x2bcc73;try{await Helper[_0x31a654(0x245)](0x1f4,this[_0x31a654(0x1d0)],_0x31a654(0x200),this);const _0xb9e46a=Math[_0x31a654(0x1b3)](Date[_0x31a654(0x1f9)]()/0x3e8),_0x585cd7={'address':this[_0x31a654(0x227)],'signTime':_0xb9e46a,'signType':'Login'},_0x3d3fe5=JSON[_0x31a654(0x228)](_0x585cd7),_0x5cdad5=new TextEncoder()[_0x31a654(0x22d)](_0x3d3fe5),_0x1791ff=await this[_0x31a654(0x210)][_0x31a654(0x1bc)](_0x5cdad5),_0x209854=await this[_0x31a654(0x22f)]('https://task-api.testnet.mangonetwork.io/mgoUser/loginMgoUserPublic','POST',{'signData':_0x1791ff[_0x31a654(0x1ed)],'address':this['address'],'signTime':_0xb9e46a});if(_0x209854[_0x31a654(0x1cb)][_0x31a654(0x1f2)]==0x0)this[_0x31a654(0x1af)]=_0x209854[_0x31a654(0x1cb)]['data']['token'],await Helper['delay'](0x1f4,this[_0x31a654(0x1d0)],_0x209854[_0x31a654(0x1cb)][_0x31a654(0x1ee)],this);else throw new Error(_0x209854[_0x31a654(0x1cb)]['msg']);}catch(_0x277f76){throw _0x277f76;}}async[_0x2bcc73(0x21b)](_0x14cf1f=![]){const _0x16fdac=_0x2bcc73;try{_0x14cf1f&&await Helper[_0x16fdac(0x245)](0x1f4,this[_0x16fdac(0x1d0)],_0x16fdac(0x1be),this);const _0x1e9b50=await this[_0x16fdac(0x22f)](_0x16fdac(0x226),_0x16fdac(0x236),undefined,this[_0x16fdac(0x1af)]);if(_0x1e9b50[_0x16fdac(0x1cb)]['code']==0x0)this[_0x16fdac(0x251)]=_0x1e9b50[_0x16fdac(0x1cb)][_0x16fdac(0x1cb)],_0x14cf1f&&await Helper[_0x16fdac(0x245)](0x1f4,this['acc'],_0x1e9b50['data'][_0x16fdac(0x1ee)],this);else throw new Error(_0x1e9b50[_0x16fdac(0x1cb)][_0x16fdac(0x1ee)]);}catch(_0x3b6741){throw _0x3b6741;}}async[_0x2bcc73(0x1ca)](){const _0x29c164=_0x2bcc73;try{await Helper['delay'](0x7d0,this[_0x29c164(0x1d0)],'Getting\x20Swap\x20Task\x20Details..',this);const _0x1572e7=await this[_0x29c164(0x22f)](_0x29c164(0x1b4),_0x29c164(0x242),{'taskId':0x2,'type':0x0},this[_0x29c164(0x1af)]);if(_0x1572e7['data'][_0x29c164(0x1f2)]==0x0)this['swapTask']=_0x1572e7[_0x29c164(0x1cb)][_0x29c164(0x1cb)],await Helper[_0x29c164(0x245)](0x1f4,this[_0x29c164(0x1d0)],_0x1572e7['data'][_0x29c164(0x1ee)],this);else throw new Error(_0x1572e7[_0x29c164(0x1cb)][_0x29c164(0x1ee)]);}catch(_0x129e8c){throw _0x129e8c;}}async['getExchangeTask'](){const _0x5d0693=_0x2bcc73;try{await Helper['delay'](0x7d0,this['acc'],_0x5d0693(0x1cd),this);const _0x1269f6=await this[_0x5d0693(0x22f)](_0x5d0693(0x1b4),'POST',{'taskId':0x5,'type':0x0},this[_0x5d0693(0x1af)]);if(_0x1269f6[_0x5d0693(0x1cb)][_0x5d0693(0x1f2)]==0x0)this[_0x5d0693(0x20a)]=_0x1269f6[_0x5d0693(0x1cb)]['data'],await Helper[_0x5d0693(0x245)](0x1f4,this[_0x5d0693(0x1d0)],_0x1269f6[_0x5d0693(0x1cb)][_0x5d0693(0x1ee)],this);else throw new Error(_0x1269f6[_0x5d0693(0x1cb)]['msg']);}catch(_0x3e6701){throw _0x3e6701;}}async[_0x2bcc73(0x243)](){const _0x433df5=_0x2bcc73;try{await Helper[_0x433df5(0x245)](0x7d0,this['acc'],_0x433df5(0x1a9),this);const _0x23e7cb=await this[_0x433df5(0x22f)](_0x433df5(0x1b4),_0x433df5(0x242),{'taskId':0x3,'type':0x0},this[_0x433df5(0x1af)]);if(_0x23e7cb[_0x433df5(0x1cb)][_0x433df5(0x1f2)]==0x0)this['discordTask']=_0x23e7cb['data'][_0x433df5(0x1cb)],await Helper[_0x433df5(0x245)](0x1f4,this[_0x433df5(0x1d0)],_0x23e7cb[_0x433df5(0x1cb)][_0x433df5(0x1ee)],this);else throw new Error(_0x23e7cb[_0x433df5(0x1cb)]['msg']);}catch(_0xd2dfb4){throw _0xd2dfb4;}}async[_0x2bcc73(0x1e3)](){const _0x5695d5=_0x2bcc73;try{await Helper[_0x5695d5(0x245)](0x7d0,this[_0x5695d5(0x1d0)],_0x5695d5(0x238),this);const _0x4cd0fe=await this[_0x5695d5(0x22f)](_0x5695d5(0x1b4),_0x5695d5(0x242),{'taskId':0x4,'type':0x0},this[_0x5695d5(0x1af)]);if(_0x4cd0fe[_0x5695d5(0x1cb)][_0x5695d5(0x1f2)]==0x0)this[_0x5695d5(0x1de)]=_0x4cd0fe[_0x5695d5(0x1cb)][_0x5695d5(0x1cb)],await Helper[_0x5695d5(0x245)](0x1f4,this[_0x5695d5(0x1d0)],_0x4cd0fe[_0x5695d5(0x1cb)]['msg'],this);else throw new Error(_0x4cd0fe[_0x5695d5(0x1cb)][_0x5695d5(0x1ee)]);}catch(_0x1557e2){throw _0x1557e2;}}async['addStep'](_0x53ae97,_0x3522df,_0x2f33eb=!![]){const _0x48dcae=_0x2bcc73;try{_0x2f33eb&&await Helper[_0x48dcae(0x245)](0x7d0,this[_0x48dcae(0x1d0)],'Try\x20Completing\x20Step\x20'+_0x3522df['label']+_0x48dcae(0x1e1),this),await this['fetch'](_0x48dcae(0x205),_0x48dcae(0x242),{'taskId':_0x53ae97,'stepId':_0x3522df[_0x48dcae(0x23d)]},this[_0x48dcae(0x1af)]);}catch(_0x4ac391){throw _0x4ac391;}}async[_0x2bcc73(0x215)](_0xe8cf94=![]){const _0x53b1be=_0x2bcc73;try{_0xe8cf94&&await Helper[_0x53b1be(0x245)](0x1f4,this[_0x53b1be(0x1d0)],_0x53b1be(0x1c6),this);this[_0x53b1be(0x247)]=await this['client'][_0x53b1be(0x1b8)]({'owner':this[_0x53b1be(0x227)]}),this['balance']=this[_0x53b1be(0x247)][_0x53b1be(0x207)](_0x3b8a96=>{const _0x2ac09a=_0x53b1be;return _0x3b8a96['totalBalance']=parseFloat((Number(_0x3b8a96[_0x2ac09a(0x23c)])/Number(MIST_PER_MGO))['toFixed'](0x5)),_0x3b8a96;});const _0x17a701=ethers[_0x53b1be(0x1c2)](await this[_0x53b1be(0x235)][_0x53b1be(0x215)](this[_0x53b1be(0x1b7)])),_0xa4a38c=ethers[_0x53b1be(0x1c2)](await this[_0x53b1be(0x23a)]['getBalance'](this[_0x53b1be(0x1b7)]));this[_0x53b1be(0x1f6)]=[{'SYMBOL':'ETH','BALANCE':_0x17a701}],this[_0x53b1be(0x23b)]=[{'SYMBOL':_0x53b1be(0x1ae),'BALANCE':_0xa4a38c}],_0xe8cf94&&await Helper[_0x53b1be(0x245)](0x3e8,this['acc'],_0x53b1be(0x24a),this);}catch(_0x4c20c2){throw _0x4c20c2;}}async[_0x2bcc73(0x1e2)](){const _0x29a98a=_0x2bcc73;try{await Helper[_0x29a98a(0x245)](0x3e8,this[_0x29a98a(0x1d0)],'Requesting\x20MGO\x20Faucet',this);const _0x455b71=await this[_0x29a98a(0x22f)](_0x29a98a(0x216),_0x29a98a(0x242),{'chain':'0','type':![]},this[_0x29a98a(0x1af)]);if(_0x455b71[_0x29a98a(0x20b)]==0xc8)await Helper['delay'](0x3e8,this[_0x29a98a(0x1d0)],_0x455b71[_0x29a98a(0x1cb)][_0x29a98a(0x1ee)],this),await this[_0x29a98a(0x215)]();else throw _0x455b71;await this[_0x29a98a(0x1c3)](0x1,{'label':_0x29a98a(0x1ec),'value':_0x29a98a(0x1f1),'extend':'Download\x20and\x20use\x20the\x20Beingdex\x20mobile\x20app','sort':0x0},![]);}catch(_0x1d4c0f){_0x1d4c0f['msg']?await Helper[_0x29a98a(0x245)](0xbb8,this[_0x29a98a(0x1d0)],_0x1d4c0f[_0x29a98a(0x1cb)][_0x29a98a(0x1ee)],this):await Helper[_0x29a98a(0x245)](0xbb8,this['acc'],_0x1d4c0f['data'][_0x29a98a(0x1ee)],this);}}async[_0x2bcc73(0x1d5)](){const _0xf13446=_0x2bcc73;try{await Helper[_0xf13446(0x245)](0x3e8,this[_0xf13446(0x1d0)],_0xf13446(0x1d8),this);const _0x38b148=new TransactionBlock();_0x38b148[_0xf13446(0x1c7)]({'target':SIGNPACKAGE['ADDRESS']+'::sign::sign_in','arguments':[_0x38b148[_0xf13446(0x203)](SIGNPACKAGE['MODULE'][_0xf13446(0x24d)][_0xf13446(0x219)]),_0x38b148['object'](SIGNPACKAGE['MODULE']['SIGN'][_0xf13446(0x1b6)])]}),await this['executeTx'](_0x38b148),await Helper[_0xf13446(0x245)](0x3e8,this[_0xf13446(0x1d0)],_0xf13446(0x1ba),this);}catch(_0x3414cb){await Helper[_0xf13446(0x245)](0x3e8,this[_0xf13446(0x1d0)],_0xf13446(0x202),this);}}async[_0x2bcc73(0x1e5)](_0x19ce7e,_0xa6854c){const _0x442fc9=_0x2bcc73;try{const _0x1b3723=new TransactionBlock();let _0x6fccc=await this[_0x442fc9(0x1ab)][_0x442fc9(0x204)]({'owner':this['address'],'coinType':_0x19ce7e[_0x442fc9(0x233)]});if(_0x6fccc['data'][_0x442fc9(0x1f0)]==0x0)while(_0x6fccc[_0x442fc9(0x1cb)]['length']==0x0){_0x6fccc=await this[_0x442fc9(0x1ab)][_0x442fc9(0x204)]({'owner':this[_0x442fc9(0x227)],'coinType':_0x19ce7e[_0x442fc9(0x233)]}),await this[_0x442fc9(0x215)](),await Helper[_0x442fc9(0x245)](0x2710,this['acc'],'Delaying\x20for\x20'+Helper[_0x442fc9(0x21e)](0x2710)+_0x442fc9(0x1aa),this);}_0x6fccc[_0x442fc9(0x1cb)]['length']>0x1&&(await this[_0x442fc9(0x225)](_0x19ce7e),_0x6fccc=await this[_0x442fc9(0x1ab)]['getCoins']({'owner':this[_0x442fc9(0x227)],'coinType':_0x19ce7e[_0x442fc9(0x233)]}));let _0x155bdd=Number(0.1)*Number(MIST_PER_MGO),_0x1b8f93;_0x19ce7e==COINS[_0x442fc9(0x21f)]?_0x1b8f93=_0x1b3723[_0x442fc9(0x229)](_0x1b3723[_0x442fc9(0x1c9)],[_0x1b3723[_0x442fc9(0x1b9)](_0x155bdd)]):(_0x155bdd=Number(_0x6fccc[_0x442fc9(0x1cb)][0x0][_0x442fc9(0x247)]),_0x1b8f93=_0x1b3723['splitCoins'](_0x1b3723[_0x442fc9(0x203)](_0x6fccc[_0x442fc9(0x1cb)][0x0]['coinObjectId']),[_0x1b3723[_0x442fc9(0x1b9)](_0x155bdd)]));await Helper[_0x442fc9(0x245)](0x3e8,this[_0x442fc9(0x1d0)],_0x442fc9(0x212)+(_0x19ce7e==COINS[_0x442fc9(0x21f)]?parseFloat((Number(_0x155bdd)/Number(MIST_PER_MGO))['toString']())['toFixed'](0x2):parseFloat((Number(_0x6fccc[_0x442fc9(0x1cb)][0x0][_0x442fc9(0x247)])/Number(MIST_PER_MGO))[_0x442fc9(0x1a5)]())['toFixed'](0x5))+'\x20'+_0x19ce7e[_0x442fc9(0x217)]+_0x442fc9(0x1c8)+_0xa6854c[_0x442fc9(0x217)],this);const _0x47ef34=[_0x19ce7e,_0xa6854c][_0x442fc9(0x1ff)](_0xe5bbfe=>_0xe5bbfe==COINS[_0x442fc9(0x21f)]),_0x2451f7=_0x19ce7e==COINS['MGO']||!_0x47ef34&&_0x19ce7e==COINS['USDT']?[_0x19ce7e[_0x442fc9(0x233)],_0xa6854c[_0x442fc9(0x233)]]:[_0x19ce7e[_0x442fc9(0x233)],_0xa6854c[_0x442fc9(0x233)]][_0x442fc9(0x1e6)](),_0x289b34=await this['getPool'](_0x2451f7);let _0x4bc340=await this[_0x442fc9(0x22a)](_0x2451f7,_0x289b34,!!(_0x19ce7e==COINS[_0x442fc9(0x21f)]||!_0x47ef34&&_0x19ce7e==COINS['USDT']),_0x155bdd);_0x4bc340=Math[_0x442fc9(0x1b3)](_0x4bc340-_0x4bc340*0xa/0x64),await Helper[_0x442fc9(0x245)](0x3e8,this[_0x442fc9(0x1d0)],_0x442fc9(0x212)+parseFloat((Number(_0x155bdd)/Number(MIST_PER_MGO))[_0x442fc9(0x1a5)]())[_0x442fc9(0x1e4)](0x2)+'\x20'+_0x19ce7e[_0x442fc9(0x217)]+_0x442fc9(0x1c0)+parseFloat((Number(_0x4bc340)/Number(MIST_PER_MGO))['toString']())[_0x442fc9(0x1e4)](0x2)+'\x20'+_0xa6854c['SYMBOL'],this),_0x1b3723[_0x442fc9(0x1c7)]({'target':AMMPACKAGE['ADDRESS']+'::amm_script::'+(_0x19ce7e==COINS[_0x442fc9(0x21f)]||!_0x47ef34&&_0x19ce7e==COINS[_0x442fc9(0x214)]?'swap_exact_coinA_for_coinB':'swap_exact_coinB_for_coinA'),'typeArguments':_0x2451f7,'arguments':[_0x1b3723[_0x442fc9(0x203)](_0x289b34),_0x1b3723[_0x442fc9(0x203)](AMMPACKAGE[_0x442fc9(0x1e9)][_0x442fc9(0x20d)][_0x442fc9(0x1b2)]),_0x1b8f93,_0x1b3723[_0x442fc9(0x1b9)](_0x155bdd),_0x1b3723[_0x442fc9(0x1b9)](_0x4bc340)]}),await this[_0x442fc9(0x249)](_0x1b3723),await Helper[_0x442fc9(0x245)](0x3e8,this[_0x442fc9(0x1d0)],_0x442fc9(0x246)+parseFloat((Number(_0x155bdd)/Number(MIST_PER_MGO))['toString']())[_0x442fc9(0x1e4)](0x2)+'\x20'+_0x19ce7e[_0x442fc9(0x217)]+_0x442fc9(0x1c0)+parseFloat((Number(_0x4bc340)/Number(MIST_PER_MGO))[_0x442fc9(0x1a5)]())['toFixed'](0x2)+'\x20'+_0xa6854c[_0x442fc9(0x217)],this);}catch(_0x46181b){throw _0x46181b;}}async['exchange'](_0x1cedd5,_0x15fef0){const _0x2caf7f=_0x2bcc73;try{await Helper[_0x2caf7f(0x245)](0x3e8,this['acc'],_0x2caf7f(0x1fc)+_0x1cedd5[_0x2caf7f(0x217)]+_0x2caf7f(0x1c0)+_0x15fef0[_0x2caf7f(0x217)],this);const _0x327486=_0x1cedd5==COINS[_0x2caf7f(0x214)]?[_0x1cedd5[_0x2caf7f(0x233)],_0x15fef0[_0x2caf7f(0x233)]][_0x2caf7f(0x1e6)]():[_0x1cedd5['TYPE'],_0x15fef0[_0x2caf7f(0x233)]],_0x5b94e9=new TransactionBlock();let _0x589a93=await this[_0x2caf7f(0x1ab)][_0x2caf7f(0x204)]({'owner':this['address'],'coinType':_0x1cedd5[_0x2caf7f(0x233)]});if(_0x589a93[_0x2caf7f(0x1cb)][_0x2caf7f(0x1f0)]==0x0)while(_0x589a93[_0x2caf7f(0x1cb)][_0x2caf7f(0x1f0)]==0x0){_0x589a93=await this[_0x2caf7f(0x1ab)][_0x2caf7f(0x204)]({'owner':this[_0x2caf7f(0x227)],'coinType':_0x1cedd5['TYPE']}),await this['getBalance'](),await Helper[_0x2caf7f(0x245)](0x2710,this['acc'],_0x2caf7f(0x224)+Helper[_0x2caf7f(0x21e)](0x2710)+_0x2caf7f(0x1aa),this);}_0x589a93[_0x2caf7f(0x1cb)][_0x2caf7f(0x1f0)]>0x1&&(await this[_0x2caf7f(0x225)](_0x1cedd5),_0x589a93=await this[_0x2caf7f(0x1ab)][_0x2caf7f(0x204)]({'owner':this[_0x2caf7f(0x227)],'coinType':_0x1cedd5[_0x2caf7f(0x233)]}));const _0x432e9f=Number(_0x589a93[_0x2caf7f(0x1cb)][0x0][_0x2caf7f(0x247)]);_0x5b94e9[_0x2caf7f(0x1c7)]({'target':BEINGDEXPACKAGE['ADDRESS']+_0x2caf7f(0x222)+(_0x1cedd5==COINS[_0x2caf7f(0x214)]?_0x2caf7f(0x250):_0x2caf7f(0x206)),'typeArguments':_0x327486,'arguments':_0x1cedd5==COINS[_0x2caf7f(0x214)]?[_0x5b94e9['object'](BEINGDEXPACKAGE[_0x2caf7f(0x1e9)][_0x2caf7f(0x1f4)]['AIUSDTPOOL']),_0x5b94e9[_0x2caf7f(0x203)](_0x589a93[_0x2caf7f(0x1cb)][0x0][_0x2caf7f(0x231)]),_0x5b94e9[_0x2caf7f(0x1b9)](_0x432e9f)]:[_0x5b94e9['object'](BEINGDEXPACKAGE[_0x2caf7f(0x1e9)][_0x2caf7f(0x1f4)][_0x2caf7f(0x24e)]),_0x5b94e9['object'](_0x589a93[_0x2caf7f(0x1cb)][0x0][_0x2caf7f(0x231)]),_0x5b94e9[_0x2caf7f(0x1b9)](0x1),_0x5b94e9[_0x2caf7f(0x1b9)](_0x432e9f)]}),await this[_0x2caf7f(0x249)](_0x5b94e9),await Helper[_0x2caf7f(0x245)](0x3e8,this['acc'],'Successfully\x20Exchanging\x20'+parseFloat((Number(_0x432e9f)/Number(MIST_PER_MGO))[_0x2caf7f(0x1a5)]())[_0x2caf7f(0x1e4)](0x2)+'\x20'+_0x1cedd5['SYMBOL']+_0x2caf7f(0x1c0)+_0x15fef0[_0x2caf7f(0x217)],this);}catch(_0xf98e9){throw _0xf98e9;}}async[_0x2bcc73(0x225)](_0x36fd52){const _0x4c8d13=_0x2bcc73;try{const _0x366665=await this[_0x4c8d13(0x1ab)][_0x4c8d13(0x204)]({'owner':this[_0x4c8d13(0x227)],'coinType':_0x36fd52[_0x4c8d13(0x233)]});if(_0x36fd52==COINS[_0x4c8d13(0x21f)]&&_0x366665[_0x4c8d13(0x1cb)][_0x4c8d13(0x1f0)]<0x3)return;if(_0x366665[_0x4c8d13(0x1cb)][_0x4c8d13(0x1f0)]<0x2)return;const _0x7e9227=new TransactionBlock();let _0x161168,_0x375eac;_0x36fd52==COINS['MGO']?(_0x161168=_0x366665[_0x4c8d13(0x1cb)][0x1][_0x4c8d13(0x231)],_0x375eac=_0x366665[_0x4c8d13(0x1cb)][_0x4c8d13(0x1ea)](0x2)[_0x4c8d13(0x207)](_0x4c0376=>_0x4c0376[_0x4c8d13(0x231)])):(_0x161168=_0x366665['data'][0x0][_0x4c8d13(0x231)],_0x375eac=_0x366665[_0x4c8d13(0x1cb)]['slice'](0x1)[_0x4c8d13(0x207)](_0x2211ad=>_0x2211ad[_0x4c8d13(0x231)])),await Helper[_0x4c8d13(0x245)](0x3e8,this[_0x4c8d13(0x1d0)],_0x4c8d13(0x1f3)+_0x36fd52[_0x4c8d13(0x217)],this),await _0x7e9227[_0x4c8d13(0x1a4)](_0x7e9227[_0x4c8d13(0x203)](_0x161168),_0x375eac[_0x4c8d13(0x207)](_0x3c6e56=>_0x7e9227[_0x4c8d13(0x203)](_0x3c6e56))),await this[_0x4c8d13(0x249)](_0x7e9227),await this[_0x4c8d13(0x215)]();}catch(_0x495f0f){throw _0x495f0f;}}async['bridge'](_0x16fa9c){const _0x8592d5=_0x2bcc73;try{if(_0x16fa9c==BRIDGE['MANGOBSC']||_0x16fa9c==BRIDGE[_0x8592d5(0x1dc)]){const _0x1bc26a=new TransactionBlock();let _0x4c6d2e=await this[_0x8592d5(0x1ab)][_0x8592d5(0x204)]({'owner':this[_0x8592d5(0x227)],'coinType':COINS[_0x8592d5(0x214)][_0x8592d5(0x233)]});if(_0x4c6d2e['data'][_0x8592d5(0x1f0)]==0x0)while(coinToSwap[_0x8592d5(0x1cb)]['length']==0x0){_0x4c6d2e=await this[_0x8592d5(0x1ab)][_0x8592d5(0x204)]({'owner':this['address'],'coinType':COINS[_0x8592d5(0x214)][_0x8592d5(0x233)]}),await this['getBalance'](),await Helper[_0x8592d5(0x245)](0x2710,this['acc'],_0x8592d5(0x224)+Helper[_0x8592d5(0x21e)](0x2710)+_0x8592d5(0x1aa),this);}_0x4c6d2e[_0x8592d5(0x1cb)][_0x8592d5(0x1f0)]>0x1&&(await this['mergeCoin'](COINS[_0x8592d5(0x214)]),_0x4c6d2e=await this['client'][_0x8592d5(0x204)]({'owner':this[_0x8592d5(0x227)],'coinType':COINS[_0x8592d5(0x214)][_0x8592d5(0x233)]}));let _0x52c02d=Number(0.001)*Number(MIST_PER_MGO);const _0x34b64a=_0x1bc26a[_0x8592d5(0x229)](_0x1bc26a[_0x8592d5(0x203)](_0x4c6d2e['data'][0x0]['coinObjectId']),[_0x1bc26a[_0x8592d5(0x1b9)](_0x52c02d)]);await Helper[_0x8592d5(0x245)](0x3e8,this[_0x8592d5(0x1d0)],_0x8592d5(0x1b5)+parseFloat((Number(_0x52c02d)/Number(MIST_PER_MGO))[_0x8592d5(0x1a5)]())[_0x8592d5(0x1e4)](0x5)+'\x20'+COINS[_0x8592d5(0x214)][_0x8592d5(0x217)]+_0x8592d5(0x1c0)+_0x16fa9c+'\x20',this),_0x1bc26a[_0x8592d5(0x1c7)]({'target':MANGOBRIDGEPACKAGE[_0x8592d5(0x248)]+'::bridge::bridge_token','typeArguments':[COINS['USDT'][_0x8592d5(0x233)]],'arguments':[_0x1bc26a[_0x8592d5(0x203)](MANGOBRIDGEPACKAGE[_0x8592d5(0x1e9)][_0x8592d5(0x1f8)][_0x8592d5(0x1bf)]),_0x34b64a,_0x1bc26a['pure'](this['evmAddress']),_0x1bc26a[_0x8592d5(0x1b9)](_0x16fa9c),_0x1bc26a[_0x8592d5(0x203)](MANGOBRIDGEPACKAGE[_0x8592d5(0x1e9)][_0x8592d5(0x1f8)][_0x8592d5(0x1b6)])]}),await this[_0x8592d5(0x249)](_0x1bc26a),await Helper[_0x8592d5(0x245)](0x3e8,this[_0x8592d5(0x1d0)],_0x8592d5(0x22b)+_0x16fa9c,this);}else{await Helper[_0x8592d5(0x245)](0x3e8,this[_0x8592d5(0x1d0)],_0x8592d5(0x24b)+(_0x16fa9c==BRIDGE[_0x8592d5(0x1a6)]?_0x8592d5(0x220):_0x8592d5(0x1c5))+_0x8592d5(0x1db),this);if(_0x16fa9c==BRIDGE[_0x8592d5(0x1a6)]){const _0x30fd5c=this[_0x8592d5(0x1f6)]['find'](_0x1b9f38=>_0x1b9f38[_0x8592d5(0x217)]==_0x8592d5(0x23f));if(_0x30fd5c==0x0){await Helper[_0x8592d5(0x245)](0xbb8,this[_0x8592d5(0x1d0)],_0x8592d5(0x23e),this);return;}}else{const _0x23616f=this[_0x8592d5(0x1f6)][_0x8592d5(0x1ff)](_0x42eea0=>_0x42eea0[_0x8592d5(0x217)]=='BNB');if(_0x23616f==0x0){await Helper[_0x8592d5(0x245)](0xbb8,this[_0x8592d5(0x1d0)],_0x8592d5(0x1d4),this);return;}}const _0x18018d=accountList[_0x8592d5(0x232)](this[_0x8592d5(0x1d0)]),_0x57a466=Config['BRIDGERAWDATA'][_0x18018d],_0x91c59b={'to':_0x16fa9c==BRIDGE['ETHMANGO']?ERC1967PROXY['CA']:ERC1967BSCPROXY['CA'],'from':this[_0x8592d5(0x1b7)],'data':_0x57a466,'value':ethers[_0x8592d5(0x1dd)](_0x8592d5(0x1bb))};await this[_0x8592d5(0x1b1)](_0x91c59b,_0x16fa9c),await Helper[_0x8592d5(0x245)](0x3e8,this[_0x8592d5(0x1d0)],_0x8592d5(0x1fe)+(_0x16fa9c==BRIDGE[_0x8592d5(0x1a6)]?_0x8592d5(0x220):_0x8592d5(0x1c5))+_0x8592d5(0x1db),this);}}catch(_0x2d648c){throw _0x2d648c;}}async['swapCalculate'](_0x323912,_0xee422a,_0x2da0f1,_0x51e377){const _0xf6f321=_0x2bcc73,_0x13f93a=new TransactionBlock();_0x13f93a[_0xf6f321(0x1c7)]({'target':AMMPACKAGE[_0xf6f321(0x248)]+_0xf6f321(0x20e),'typeArguments':_0x323912,'arguments':[_0x13f93a['object'](_0xee422a),_0x13f93a[_0xf6f321(0x1b9)](_0x51e377),_0x13f93a[_0xf6f321(0x1b9)](_0x2da0f1)]});const _0x3ae960=await this['readTx'](_0x13f93a);return bcs['de'](_0x3ae960[_0xf6f321(0x201)][0x0][_0xf6f321(0x1c1)][0x0][0x1],Uint8Array[_0xf6f321(0x22e)](_0x3ae960['results'][0x0]['returnValues'][0x0][0x0]));}async[_0x2bcc73(0x1d6)](_0x1d6fb4){const _0x3c750f=_0x2bcc73,_0x492566=new TransactionBlock();_0x492566[_0x3c750f(0x1c7)]({'target':AMMPACKAGE[_0x3c750f(0x248)]+_0x3c750f(0x208),'typeArguments':_0x1d6fb4,'arguments':[_0x492566['object'](AMMPACKAGE['MODULE'][_0x3c750f(0x1ce)]['AMMFACTORY'])]});const _0x3bc8f5=await this[_0x3c750f(0x218)](_0x492566);return bcs['de'](_0x3bc8f5[_0x3c750f(0x201)][0x0][_0x3c750f(0x1c1)][0x0][0x1],Uint8Array[_0x3c750f(0x22e)](_0x3bc8f5[_0x3c750f(0x201)][0x0][_0x3c750f(0x1c1)][0x0][0x0]));}async['executeTx'](_0x4c34c1){const _0x43bb91=_0x2bcc73;try{await Helper[_0x43bb91(0x245)](0x3e8,this[_0x43bb91(0x1d0)],_0x43bb91(0x24f),this);const _0x3b1791=await this[_0x43bb91(0x1ab)]['signAndExecuteTransactionBlock']({'signer':this[_0x43bb91(0x210)],'transactionBlock':_0x4c34c1});return await Helper[_0x43bb91(0x245)](0xbb8,this['acc'],_0x43bb91(0x244)+(_0x43bb91(0x1bd)+_0x3b1791['digest']),this),await this[_0x43bb91(0x215)](),_0x3b1791;}catch(_0x41d62f){throw _0x41d62f;}}async[_0x2bcc73(0x218)](_0x55cdca){const _0x5673fd=_0x2bcc73;try{const _0x3808e0=await this['client'][_0x5673fd(0x1f5)]({'sender':this[_0x5673fd(0x227)],'transactionBlock':_0x55cdca});return _0x3808e0;}catch(_0x5b1e12){throw _0x5b1e12;}}async[_0x2bcc73(0x1b1)](_0x1393e8,_0x48d7a){const _0x40aa6e=_0x2bcc73;try{_0x24838a[_0x40aa6e(0x22c)](_0x40aa6e(0x1ad)+JSON[_0x40aa6e(0x228)](Helper['serializeBigInt'](_0x1393e8))),await Helper[_0x40aa6e(0x245)](0x1f4,this[_0x40aa6e(0x1d0)],_0x40aa6e(0x1ef),this);const _0x68708d=_0x48d7a==BRIDGE[_0x40aa6e(0x1a6)]?await this['evmWallet']['sendTransaction'](_0x1393e8):await this[_0x40aa6e(0x1e8)]['sendTransaction'](_0x1393e8);await Helper[_0x40aa6e(0x245)](0x1f4,this[_0x40aa6e(0x1d0)],_0x40aa6e(0x1d1),this);const _0x3e1890=await _0x68708d[_0x40aa6e(0x1cf)]();_0x24838a[_0x40aa6e(0x22c)](_0x40aa6e(0x240)+JSON[_0x40aa6e(0x228)](_0x3e1890)),await Helper[_0x40aa6e(0x245)](0x1388,this['acc'],_0x40aa6e(0x1fb)+(_0x48d7a==BRIDGE['ETHMANGO']?_0x40aa6e(0x21d):_0x40aa6e(0x237))+_0x40aa6e(0x221)+_0x3e1890[_0x40aa6e(0x1fd)],this),await this[_0x40aa6e(0x215)]();}catch(_0x1ef6aa){if(_0x1ef6aa[_0x40aa6e(0x1eb)][_0x40aa6e(0x234)]('504'))await Helper[_0x40aa6e(0x245)](0x1388,this['acc'],_0x1ef6aa[_0x40aa6e(0x1eb)],this);else throw _0x1ef6aa;}}}
