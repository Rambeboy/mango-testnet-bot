const _0x5ca091=_0x1011;(function(_0x2cd41a,_0x4448fb){const _0x3066b9=_0x1011,_0x2d2790=_0x2cd41a();while(!![]){try{const _0x13daea=parseInt(_0x3066b9(0x155))/0x1*(parseInt(_0x3066b9(0x1b2))/0x2)+parseInt(_0x3066b9(0x148))/0x3*(-parseInt(_0x3066b9(0x180))/0x4)+parseInt(_0x3066b9(0x178))/0x5+parseInt(_0x3066b9(0x11c))/0x6+parseInt(_0x3066b9(0x1a2))/0x7+parseInt(_0x3066b9(0x176))/0x8+-parseInt(_0x3066b9(0x12d))/0x9;if(_0x13daea===_0x4448fb)break;else _0x2d2790['push'](_0x2d2790['shift']());}catch(_0x2646b8){_0x2d2790['push'](_0x2d2790['shift']());}}}(_0xc6af,0x21cd1));import{getFullnodeUrl,MgoClient,MgoHTTPTransport}from'@mgonetwork/mango.js/client';import{DEFAULT_ED25519_DERIVATION_PATH,Ed25519Keypair}from'@mgonetwork/mango.js/keypairs/ed25519';import{Helper}from'../utils/helper.js';import{bcs,MIST_PER_MGO,TransactionBlock}from'@mgonetwork/mango.js';import{API}from'./api.js';import{SIGNPACKAGE}from'../packages/sign-package.js';import{AMMPACKAGE}from'../packages/amm-package.js';function _0xc6af(){const _0x3d7632=['Getting\x20BeingDex\x20Task\x20Details..','sell','totalBalance','AIUSDTPOOL','Gas','acc','Getting\x20Account\x20Balance...','sort','935364OQUGmn','pure','::amm_script::','Failed\x20to\x20Daily\x20Sign\x20In,\x20Possible\x20already\x20Sign\x20In','Successfully\x20Bridge\x20Token\x20From\x20','connectMango','getAccountInfo','JsonRpcProvider','BNB','serializeBigInt','https://ethereum-sepolia-rpc.publicnode.com','splitCoins','fromPhrase','Download\x20and\x20use\x20the\x20Beingdex\x20mobile\x20app','Login','Please\x20Provide\x20ETHTOMANGOBRIDGERAWDATA\x20&\x20BSCTOMANGOBRIDGERAWDATA\x20on\x20config.js','bridgeTask','5781294usxRwY','ABI','Getting\x20Mango\x20Bridge\x20Task\x20Details..','slice','getFaucet','getPool','Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...','status','evmAddress','BRIDGE','length','https://task-api.testnet.mangonetwork.io/base/getFaucet','Delaying\x20for\x20','readTx','formatEther','504','includes','sendTransaction','getExchangeTask','Connecting\x20to\x20mango\x20DAPPS...','GLOBALPAUSESTATUSID','ETHMANGO','Wallet','::amm_router::compute_out','AMMSWAP','Getting\x20User\x20Information..','address','74589IrnMmc','data','executeTx','Approving\x20Token\x20Spend','wallet','mergeCoins','now','You\x20Have\x20','Successfully\x20Exchanging\x20','Getting\x20Wallet\x20Information...','Getting\x20Swap\x20Task\x20Details..','MaxUint256','\x20Accounts\x20But\x20Provide\x20','23990dImqaJ','Try\x20to\x20Bridge\x20Token\x20From\x20','POST','addStep','swapCalculate','info','deriveKeypair','Try\x20to\x20Bridge\x20','getBridgeTask','BSCTOMANGOBRIDGERAWDATA','SIGN','getPublicKey','client','MGO','symbol','/tx/','getAllBalances','AMMFACTORY','code','Trying\x20to\x20Daily\x20Sign\x20In','https://mgoscan.com/txblock/','ETH\x20Sepolia','approve','results','https://testnet.bscscan.com','balanceOf','moveCall','find','wait','signAndExecuteTransactionBlock','floor','swap','testnet','1281680AMyRsC','Connect\x20to\x20Mango\x20test\x20network\x20and\x20sign\x20to\x20receive\x20Gas','988930NjFnlN','token','https://task-api.testnet.mangonetwork.io/mgoUser/getMgoUser','swap_exact_coinB_for_coinA','Contract','Sorry\x20this\x20bot\x20is\x20now\x20only\x20support\x20Seed\x20Pharse,\x20Please\x20use\x20Seed\x20Pharse\x20instead\x20of\x20Private\x20Key','from','ETHTOMANGOBRIDGERAWDATA','12nLbzLF','allowance','object','toFixed','reverse','CLOB','Token\x20Approved','bscWallet','::amm_swap::get_pool_id','Successfully\x20Bridge\x20USDT\x20Token\x20From\x20ETH\x20Sepolia\x20to\x20','Tx\x20Executed\x20and\x20Confirmed\x20\x0a','exchange','Merging\x20','fetch','getCoins','bscProvider','MODULE','usdtSymbol','\x20until\x20swap\x20balance\x20update','BNB\x20Testnet','ethProvider','map','mergeCoin','Tx\x20Confirmed\x20and\x20Finalizing:\x20','https://task-api.testnet.mangonetwork.io/base/taskDetail','\x20to\x20','::clob::','Successfully\x20Daily\x20Sign\x20In','https://task-api.testnet.mangonetwork.io/base/addStep','devInspectTransactionBlock','executeEvmTx','evmWallet','toString','determineType','1886808xTSaME','USDT','Successfully\x20Get\x20Account\x20Balance','msg','getBalance','returnValues','indexOf','label','msToTime','evmBalance','getMangoUser','encode','TYPE','Try\x20to\x20Swapping\x20','ADDRESS','balance','6VyxzRS','signature','stringify','getDiscordTask','::bridge::bridge_token','::sign::sign_in','Executing\x20TX...','delay','TX\x20DATA\x20','CLOCK','swap_exact_coinA_for_coinB','digest','\x20to\x20Mango\x20Network\x20','gas','MANGOETH','Getting\x20Discord\x20Task\x20Details..','bscBalance','SYMBOL','coinObjectId','discordTask'];_0xc6af=function(){return _0x3d7632;};return _0xc6af();}import{COINS}from'../coin/coins.js';import{BEINGDEXPACKAGE}from'../packages/beingdex.js';import{accountList}from'../../accounts/accounts.js';import{proxyList}from'../../config/proxy_list.js';import{MANGOBRIDGEPACKAGE}from'../packages/mangobridge.js';import{BRIDGE}from'../chain/dest_chain.js';import{ethers}from'ethers';function _0x1011(_0x2c9855,_0x4e53a9){const _0xc6afa0=_0xc6af();return _0x1011=function(_0x101182,_0x586804){_0x101182=_0x101182-0x112;let _0x4e4d3a=_0xc6afa0[_0x101182];return _0x4e4d3a;},_0x1011(_0x2c9855,_0x4e53a9);}import{USDTMANGO}from'../abi/usdt_token_abi.js';import{ERC1967PROXY}from'../abi/erc1967_proxy.js';import{Config}from'../../config/config.js';import _0x19c949 from'../utils/logger.js';import{USDBSCMANGO}from'../abi/usdt_token_abi_bsc.js';import{ERC1967BSCPROXY}from'../abi/erc1967_proxy_bsc.js';export class CoreService extends API{constructor(_0x38997c){const _0x33ebe5=_0x1011;let _0x137a29;const _0x9a99a1=Helper[_0x33ebe5(0x1a1)](_0x38997c);if(!_0x9a99a1)throw Error(_0x33ebe5(0x17d));if(Config[_0x33ebe5(0x17f)]['length']==0x0||Config[_0x33ebe5(0x15e)][_0x33ebe5(0x137)]==0x0)throw Error(_0x33ebe5(0x12b));const _0x1e013a=accountList['indexOf'](_0x38997c);if(proxyList[_0x33ebe5(0x137)]!=accountList[_0x33ebe5(0x137)]&&proxyList[_0x33ebe5(0x137)]!=0x0)throw Error(_0x33ebe5(0x14f)+accountList['length']+_0x33ebe5(0x154)+proxyList[_0x33ebe5(0x137)]);_0x137a29=proxyList[_0x1e013a],super(_0x137a29),this['acc']=_0x38997c,this[_0x33ebe5(0x161)]=new MgoClient({'transport':new MgoHTTPTransport({'url':getFullnodeUrl(_0x33ebe5(0x175))})}),this[_0x33ebe5(0x194)]=new ethers['JsonRpcProvider'](_0x33ebe5(0x126),0xaa36a7),this['bscProvider']=new ethers[(_0x33ebe5(0x123))]('https://bsc-testnet-rpc.publicnode.com',0x61);}async[_0x5ca091(0x122)](){const _0x2fcba2=_0x5ca091;try{await Helper[_0x2fcba2(0x1b9)](0x1f4,this[_0x2fcba2(0x119)],_0x2fcba2(0x151),this),this[_0x2fcba2(0x14c)]=Ed25519Keypair[_0x2fcba2(0x15b)](this['acc'],DEFAULT_ED25519_DERIVATION_PATH),this[_0x2fcba2(0x19f)]=ethers[_0x2fcba2(0x143)][_0x2fcba2(0x128)](this[_0x2fcba2(0x119)],this[_0x2fcba2(0x194)]),this[_0x2fcba2(0x187)]=ethers[_0x2fcba2(0x143)]['fromPhrase'](this[_0x2fcba2(0x119)],this[_0x2fcba2(0x18f)]),this[_0x2fcba2(0x135)]=this[_0x2fcba2(0x19f)][_0x2fcba2(0x147)],this[_0x2fcba2(0x147)]=this[_0x2fcba2(0x14c)][_0x2fcba2(0x160)]()['toMgoAddress'](),await Helper['delay'](0x3e8,this['acc'],'Successfully\x20Get\x20Account\x20Information',this);}catch(_0x5d3bd8){throw _0x5d3bd8;}}async[_0x5ca091(0x121)](){const _0x3bb1f7=_0x5ca091;try{await Helper['delay'](0x1f4,this[_0x3bb1f7(0x119)],_0x3bb1f7(0x140),this);const _0x56beb9=Math[_0x3bb1f7(0x173)](Date[_0x3bb1f7(0x14e)]()/0x3e8),_0x12ada0={'address':this['address'],'signTime':_0x56beb9,'signType':_0x3bb1f7(0x12a)},_0x5b21f8=JSON['stringify'](_0x12ada0),_0x13c826=new TextEncoder()[_0x3bb1f7(0x1ad)](_0x5b21f8),_0x339d6c=await this[_0x3bb1f7(0x14c)]['signPersonalMessage'](_0x13c826),_0x55a9f6=await this['fetch']('https://task-api.testnet.mangonetwork.io/mgoUser/loginMgoUserPublic',_0x3bb1f7(0x157),{'signData':_0x339d6c[_0x3bb1f7(0x1b3)],'address':this['address'],'signTime':_0x56beb9});if(_0x55a9f6[_0x3bb1f7(0x149)][_0x3bb1f7(0x167)]==0x0)this[_0x3bb1f7(0x179)]=_0x55a9f6['data'][_0x3bb1f7(0x149)][_0x3bb1f7(0x179)],await Helper[_0x3bb1f7(0x1b9)](0x1f4,this['acc'],_0x55a9f6[_0x3bb1f7(0x149)][_0x3bb1f7(0x1a5)],this);else throw new Error(_0x55a9f6[_0x3bb1f7(0x149)][_0x3bb1f7(0x1a5)]);}catch(_0x1a83d3){throw _0x1a83d3;}}async[_0x5ca091(0x1ac)](_0x40688a=![]){const _0x318314=_0x5ca091;try{_0x40688a&&await Helper[_0x318314(0x1b9)](0x1f4,this[_0x318314(0x119)],_0x318314(0x146),this);const _0x4d0d8a=await this[_0x318314(0x18d)](_0x318314(0x17a),'GET',undefined,this[_0x318314(0x179)]);if(_0x4d0d8a[_0x318314(0x149)][_0x318314(0x167)]==0x0)this['user']=_0x4d0d8a['data'][_0x318314(0x149)],_0x40688a&&await Helper['delay'](0x1f4,this['acc'],_0x4d0d8a[_0x318314(0x149)][_0x318314(0x1a5)],this);else throw new Error(_0x4d0d8a[_0x318314(0x149)][_0x318314(0x1a5)]);}catch(_0x185716){throw _0x185716;}}async['getSwapTask'](){const _0x4aa808=_0x5ca091;try{await Helper['delay'](0x7d0,this[_0x4aa808(0x119)],_0x4aa808(0x152),this);const _0x510c16=await this[_0x4aa808(0x18d)]('https://task-api.testnet.mangonetwork.io/base/taskDetail','POST',{'taskId':0x2,'type':0x0},this[_0x4aa808(0x179)]);if(_0x510c16['data'][_0x4aa808(0x167)]==0x0)this['swapTask']=_0x510c16['data'][_0x4aa808(0x149)],await Helper[_0x4aa808(0x1b9)](0x1f4,this[_0x4aa808(0x119)],_0x510c16[_0x4aa808(0x149)][_0x4aa808(0x1a5)],this);else throw new Error(_0x510c16[_0x4aa808(0x149)][_0x4aa808(0x1a5)]);}catch(_0x98fcbc){throw _0x98fcbc;}}async[_0x5ca091(0x13f)](){const _0x10686c=_0x5ca091;try{await Helper['delay'](0x7d0,this[_0x10686c(0x119)],_0x10686c(0x114),this);const _0x237a4c=await this[_0x10686c(0x18d)](_0x10686c(0x198),_0x10686c(0x157),{'taskId':0x5,'type':0x0},this[_0x10686c(0x179)]);if(_0x237a4c['data'][_0x10686c(0x167)]==0x0)this['exchangeTask']=_0x237a4c[_0x10686c(0x149)][_0x10686c(0x149)],await Helper['delay'](0x1f4,this[_0x10686c(0x119)],_0x237a4c[_0x10686c(0x149)][_0x10686c(0x1a5)],this);else throw new Error(_0x237a4c[_0x10686c(0x149)][_0x10686c(0x1a5)]);}catch(_0x4d3a5a){throw _0x4d3a5a;}}async[_0x5ca091(0x1b5)](){const _0xa745fd=_0x5ca091;try{await Helper['delay'](0x7d0,this[_0xa745fd(0x119)],_0xa745fd(0x1c1),this);const _0x543db6=await this[_0xa745fd(0x18d)]('https://task-api.testnet.mangonetwork.io/base/taskDetail',_0xa745fd(0x157),{'taskId':0x3,'type':0x0},this['token']);if(_0x543db6['data'][_0xa745fd(0x167)]==0x0)this[_0xa745fd(0x113)]=_0x543db6[_0xa745fd(0x149)][_0xa745fd(0x149)],await Helper[_0xa745fd(0x1b9)](0x1f4,this[_0xa745fd(0x119)],_0x543db6[_0xa745fd(0x149)][_0xa745fd(0x1a5)],this);else throw new Error(_0x543db6[_0xa745fd(0x149)]['msg']);}catch(_0x5946f3){throw _0x5946f3;}}async[_0x5ca091(0x15d)](){const _0x520d08=_0x5ca091;try{await Helper[_0x520d08(0x1b9)](0x7d0,this[_0x520d08(0x119)],_0x520d08(0x12f),this);const _0x41ae5b=await this['fetch'](_0x520d08(0x198),'POST',{'taskId':0x4,'type':0x0},this[_0x520d08(0x179)]);if(_0x41ae5b[_0x520d08(0x149)][_0x520d08(0x167)]==0x0)this[_0x520d08(0x12c)]=_0x41ae5b['data'][_0x520d08(0x149)],await Helper[_0x520d08(0x1b9)](0x1f4,this[_0x520d08(0x119)],_0x41ae5b[_0x520d08(0x149)][_0x520d08(0x1a5)],this);else throw new Error(_0x41ae5b[_0x520d08(0x149)][_0x520d08(0x1a5)]);}catch(_0x5a5a4d){throw _0x5a5a4d;}}async[_0x5ca091(0x158)](_0x19aa25,_0x2a5b9c,_0x13fd3c=!![]){const _0x15052f=_0x5ca091;try{_0x13fd3c&&await Helper[_0x15052f(0x1b9)](0x7d0,this[_0x15052f(0x119)],'Try\x20Completing\x20Step\x20'+_0x2a5b9c[_0x15052f(0x1a9)]+'...',this),await this[_0x15052f(0x18d)](_0x15052f(0x19c),'POST',{'taskId':_0x19aa25,'stepId':_0x2a5b9c[_0x15052f(0x11b)]},this['token']);}catch(_0x356b07){throw _0x356b07;}}async[_0x5ca091(0x1a6)](_0x54d17e=![]){const _0x56cf84=_0x5ca091;try{_0x54d17e&&await Helper[_0x56cf84(0x1b9)](0x1f4,this[_0x56cf84(0x119)],_0x56cf84(0x11a),this);this[_0x56cf84(0x1b1)]=await this['client'][_0x56cf84(0x165)]({'owner':this[_0x56cf84(0x147)]}),this['balance']=this[_0x56cf84(0x1b1)][_0x56cf84(0x195)](_0x2f666e=>{const _0x45257c=_0x56cf84;return _0x2f666e[_0x45257c(0x116)]=parseFloat((Number(_0x2f666e[_0x45257c(0x116)])/Number(MIST_PER_MGO))[_0x45257c(0x183)](0x5)),_0x2f666e;});const _0x35ff48=ethers[_0x56cf84(0x13b)](await this['ethProvider'][_0x56cf84(0x1a6)](this[_0x56cf84(0x135)])),_0x56f302=ethers[_0x56cf84(0x13b)](await this[_0x56cf84(0x18f)]['getBalance'](this[_0x56cf84(0x135)])),_0x420255=new ethers[(_0x56cf84(0x17c))](USDTMANGO['CA'],USDTMANGO[_0x56cf84(0x12e)],this['ethProvider']),_0x5c0bd4=ethers[_0x56cf84(0x13b)](await _0x420255[_0x56cf84(0x16e)](this[_0x56cf84(0x135)])),_0x368209=new ethers[(_0x56cf84(0x17c))](USDBSCMANGO['CA'],USDBSCMANGO[_0x56cf84(0x12e)],this[_0x56cf84(0x18f)]),_0x50ad5e=ethers['formatEther'](await _0x368209[_0x56cf84(0x16e)](this[_0x56cf84(0x135)]));this[_0x56cf84(0x191)]=await _0x420255[_0x56cf84(0x163)](),this[_0x56cf84(0x1ab)]=[{'SYMBOL':'ETH','BALANCE':_0x35ff48},{'SYMBOL':this[_0x56cf84(0x191)],'BALANCE':_0x5c0bd4}],this[_0x56cf84(0x1c2)]=[{'SYMBOL':_0x56cf84(0x124),'BALANCE':_0x56f302},{'SYMBOL':this[_0x56cf84(0x191)],'BALANCE':_0x50ad5e}],_0x54d17e&&await Helper[_0x56cf84(0x1b9)](0x3e8,this[_0x56cf84(0x119)],_0x56cf84(0x1a4),this);}catch(_0x293cd7){throw _0x293cd7;}}async[_0x5ca091(0x131)](){const _0x1b0a6e=_0x5ca091;try{await Helper['delay'](0x3e8,this[_0x1b0a6e(0x119)],'Requesting\x20MGO\x20Faucet',this);const _0x3fc15c=await this['fetch'](_0x1b0a6e(0x138),_0x1b0a6e(0x157),{'chain':'0','type':![]},this[_0x1b0a6e(0x179)]);if(_0x3fc15c[_0x1b0a6e(0x134)]==0xc8)await Helper[_0x1b0a6e(0x1b9)](0x3e8,this[_0x1b0a6e(0x119)],_0x3fc15c['data'][_0x1b0a6e(0x1a5)],this),await this['getBalance']();else throw _0x3fc15c;await this['addStep'](0x1,{'label':_0x1b0a6e(0x177),'value':_0x1b0a6e(0x118),'extend':_0x1b0a6e(0x129),'sort':0x0},![]);}catch(_0x2ad1c5){_0x2ad1c5[_0x1b0a6e(0x1a5)]?await Helper[_0x1b0a6e(0x1b9)](0xbb8,this['acc'],_0x2ad1c5[_0x1b0a6e(0x149)][_0x1b0a6e(0x1a5)],this):await Helper[_0x1b0a6e(0x1b9)](0xbb8,this['acc'],_0x2ad1c5[_0x1b0a6e(0x149)]['msg'],this);}}async['checkIn'](){const _0x2b4dcf=_0x5ca091;try{await Helper[_0x2b4dcf(0x1b9)](0x3e8,this[_0x2b4dcf(0x119)],_0x2b4dcf(0x168),this);const _0x51cf64=new TransactionBlock();_0x51cf64[_0x2b4dcf(0x16f)]({'target':SIGNPACKAGE[_0x2b4dcf(0x1b0)]+_0x2b4dcf(0x1b7),'arguments':[_0x51cf64['object'](SIGNPACKAGE[_0x2b4dcf(0x190)][_0x2b4dcf(0x15f)]['SIGNPOOL']),_0x51cf64[_0x2b4dcf(0x182)](SIGNPACKAGE[_0x2b4dcf(0x190)][_0x2b4dcf(0x15f)][_0x2b4dcf(0x1bb)])]}),await this[_0x2b4dcf(0x14a)](_0x51cf64),await Helper[_0x2b4dcf(0x1b9)](0x3e8,this[_0x2b4dcf(0x119)],_0x2b4dcf(0x19b),this);}catch(_0x3c3c7c){await Helper[_0x2b4dcf(0x1b9)](0x3e8,this[_0x2b4dcf(0x119)],_0x2b4dcf(0x11f),this);}}async[_0x5ca091(0x174)](_0x4650f4,_0x5cbbb1){const _0x5e2413=_0x5ca091;try{const _0x5aa93d=new TransactionBlock();let _0x4d45b7=await this[_0x5e2413(0x161)][_0x5e2413(0x18e)]({'owner':this[_0x5e2413(0x147)],'coinType':_0x4650f4['TYPE']});if(_0x4d45b7[_0x5e2413(0x149)][_0x5e2413(0x137)]==0x0)while(_0x4d45b7[_0x5e2413(0x149)][_0x5e2413(0x137)]==0x0){_0x4d45b7=await this[_0x5e2413(0x161)][_0x5e2413(0x18e)]({'owner':this[_0x5e2413(0x147)],'coinType':_0x4650f4[_0x5e2413(0x1ae)]}),await this[_0x5e2413(0x1a6)](),await Helper[_0x5e2413(0x1b9)](0x2710,this[_0x5e2413(0x119)],_0x5e2413(0x139)+Helper['msToTime'](0x2710)+_0x5e2413(0x192),this);}_0x4d45b7[_0x5e2413(0x149)][_0x5e2413(0x137)]>0x1&&(await this[_0x5e2413(0x196)](_0x4650f4),_0x4d45b7=await this[_0x5e2413(0x161)][_0x5e2413(0x18e)]({'owner':this[_0x5e2413(0x147)],'coinType':_0x4650f4['TYPE']}));let _0x277cc8=Number(0.1)*Number(MIST_PER_MGO),_0x338834;_0x4650f4==COINS['MGO']?_0x338834=_0x5aa93d[_0x5e2413(0x127)](_0x5aa93d[_0x5e2413(0x1bf)],[_0x5aa93d[_0x5e2413(0x11d)](_0x277cc8)]):(_0x277cc8=Number(_0x4d45b7[_0x5e2413(0x149)][0x0][_0x5e2413(0x1b1)]),_0x338834=_0x5aa93d[_0x5e2413(0x127)](_0x5aa93d['object'](_0x4d45b7[_0x5e2413(0x149)][0x0]['coinObjectId']),[_0x5aa93d[_0x5e2413(0x11d)](_0x277cc8)]));await Helper[_0x5e2413(0x1b9)](0x3e8,this[_0x5e2413(0x119)],_0x5e2413(0x1af)+(_0x4650f4==COINS['MGO']?parseFloat((Number(_0x277cc8)/Number(MIST_PER_MGO))[_0x5e2413(0x1a0)]())['toFixed'](0x2):parseFloat((Number(_0x4d45b7['data'][0x0][_0x5e2413(0x1b1)])/Number(MIST_PER_MGO))['toString']())[_0x5e2413(0x183)](0x5))+'\x20'+_0x4650f4[_0x5e2413(0x1c3)]+'\x20to\x20?\x20'+_0x5cbbb1[_0x5e2413(0x1c3)],this);const _0x30286b=[_0x4650f4,_0x5cbbb1][_0x5e2413(0x170)](_0x1e7f1e=>_0x1e7f1e==COINS[_0x5e2413(0x162)]),_0x1cc5c2=_0x4650f4==COINS[_0x5e2413(0x162)]||!_0x30286b&&_0x4650f4==COINS[_0x5e2413(0x1a3)]?[_0x4650f4[_0x5e2413(0x1ae)],_0x5cbbb1[_0x5e2413(0x1ae)]]:[_0x4650f4[_0x5e2413(0x1ae)],_0x5cbbb1['TYPE']][_0x5e2413(0x184)](),_0x17ade7=await this['getPool'](_0x1cc5c2);let _0xf278c2=await this[_0x5e2413(0x159)](_0x1cc5c2,_0x17ade7,!!(_0x4650f4==COINS['MGO']||!_0x30286b&&_0x4650f4==COINS[_0x5e2413(0x1a3)]),_0x277cc8);_0xf278c2=Math[_0x5e2413(0x173)](_0xf278c2-_0xf278c2*0xa/0x64),await Helper[_0x5e2413(0x1b9)](0x3e8,this[_0x5e2413(0x119)],_0x5e2413(0x1af)+parseFloat((Number(_0x277cc8)/Number(MIST_PER_MGO))[_0x5e2413(0x1a0)]())[_0x5e2413(0x183)](0x2)+'\x20'+_0x4650f4[_0x5e2413(0x1c3)]+_0x5e2413(0x199)+parseFloat((Number(_0xf278c2)/Number(MIST_PER_MGO))['toString']())[_0x5e2413(0x183)](0x2)+'\x20'+_0x5cbbb1[_0x5e2413(0x1c3)],this),_0x5aa93d[_0x5e2413(0x16f)]({'target':AMMPACKAGE['ADDRESS']+_0x5e2413(0x11e)+(_0x4650f4==COINS[_0x5e2413(0x162)]||!_0x30286b&&_0x4650f4==COINS['USDT']?_0x5e2413(0x1bc):_0x5e2413(0x17b)),'typeArguments':_0x1cc5c2,'arguments':[_0x5aa93d['object'](_0x17ade7),_0x5aa93d[_0x5e2413(0x182)](AMMPACKAGE[_0x5e2413(0x190)]['AMMCONFIG'][_0x5e2413(0x141)]),_0x338834,_0x5aa93d[_0x5e2413(0x11d)](_0x277cc8),_0x5aa93d[_0x5e2413(0x11d)](_0xf278c2)]}),await this['executeTx'](_0x5aa93d),await Helper[_0x5e2413(0x1b9)](0x3e8,this[_0x5e2413(0x119)],'Successfully\x20Swapping\x20'+parseFloat((Number(_0x277cc8)/Number(MIST_PER_MGO))[_0x5e2413(0x1a0)]())[_0x5e2413(0x183)](0x2)+'\x20'+_0x4650f4['SYMBOL']+_0x5e2413(0x199)+parseFloat((Number(_0xf278c2)/Number(MIST_PER_MGO))[_0x5e2413(0x1a0)]())[_0x5e2413(0x183)](0x2)+'\x20'+_0x5cbbb1[_0x5e2413(0x1c3)],this);}catch(_0x4c0e5f){throw _0x4c0e5f;}}async[_0x5ca091(0x18b)](_0x5ca131,_0x6152fb){const _0x417a6e=_0x5ca091;try{await Helper['delay'](0x3e8,this[_0x417a6e(0x119)],'Exchanging\x20'+_0x5ca131[_0x417a6e(0x1c3)]+_0x417a6e(0x199)+_0x6152fb[_0x417a6e(0x1c3)],this);const _0xa084d0=_0x5ca131==COINS[_0x417a6e(0x1a3)]?[_0x5ca131[_0x417a6e(0x1ae)],_0x6152fb[_0x417a6e(0x1ae)]][_0x417a6e(0x184)]():[_0x5ca131[_0x417a6e(0x1ae)],_0x6152fb[_0x417a6e(0x1ae)]],_0x333d00=new TransactionBlock();let _0x1a3260=await this[_0x417a6e(0x161)][_0x417a6e(0x18e)]({'owner':this[_0x417a6e(0x147)],'coinType':_0x5ca131['TYPE']});if(_0x1a3260[_0x417a6e(0x149)]['length']==0x0)while(_0x1a3260['data'][_0x417a6e(0x137)]==0x0){_0x1a3260=await this['client'][_0x417a6e(0x18e)]({'owner':this[_0x417a6e(0x147)],'coinType':_0x5ca131[_0x417a6e(0x1ae)]}),await this['getBalance'](),await Helper[_0x417a6e(0x1b9)](0x2710,this[_0x417a6e(0x119)],'Delaying\x20for\x20'+Helper[_0x417a6e(0x1aa)](0x2710)+'\x20until\x20swap\x20balance\x20update',this);}_0x1a3260['data'][_0x417a6e(0x137)]>0x1&&(await this[_0x417a6e(0x196)](_0x5ca131),_0x1a3260=await this['client'][_0x417a6e(0x18e)]({'owner':this[_0x417a6e(0x147)],'coinType':_0x5ca131[_0x417a6e(0x1ae)]}));const _0x474c97=Number(_0x1a3260[_0x417a6e(0x149)][0x0][_0x417a6e(0x1b1)]);_0x333d00['moveCall']({'target':BEINGDEXPACKAGE['ADDRESS']+_0x417a6e(0x19a)+(_0x5ca131==COINS[_0x417a6e(0x1a3)]?'market_buy':_0x417a6e(0x115)),'typeArguments':_0xa084d0,'arguments':_0x5ca131==COINS[_0x417a6e(0x1a3)]?[_0x333d00[_0x417a6e(0x182)](BEINGDEXPACKAGE[_0x417a6e(0x190)][_0x417a6e(0x185)][_0x417a6e(0x117)]),_0x333d00[_0x417a6e(0x182)](_0x1a3260[_0x417a6e(0x149)][0x0][_0x417a6e(0x112)]),_0x333d00['pure'](_0x474c97)]:[_0x333d00[_0x417a6e(0x182)](BEINGDEXPACKAGE['MODULE'][_0x417a6e(0x185)][_0x417a6e(0x117)]),_0x333d00[_0x417a6e(0x182)](_0x1a3260['data'][0x0][_0x417a6e(0x112)]),_0x333d00['pure'](0x1),_0x333d00['pure'](_0x474c97)]}),await this['executeTx'](_0x333d00),await Helper['delay'](0x3e8,this[_0x417a6e(0x119)],_0x417a6e(0x150)+parseFloat((Number(_0x474c97)/Number(MIST_PER_MGO))[_0x417a6e(0x1a0)]())['toFixed'](0x2)+'\x20'+_0x5ca131[_0x417a6e(0x1c3)]+_0x417a6e(0x199)+_0x6152fb['SYMBOL'],this);}catch(_0x104b03){throw _0x104b03;}}async['mergeCoin'](_0x52cc93){const _0x607c=_0x5ca091;try{const _0x1ac056=await this['client']['getCoins']({'owner':this[_0x607c(0x147)],'coinType':_0x52cc93['TYPE']});if(_0x52cc93==COINS['MGO']&&_0x1ac056[_0x607c(0x149)][_0x607c(0x137)]<0x3)return;if(_0x1ac056[_0x607c(0x149)][_0x607c(0x137)]<0x2)return;const _0x5dc03a=new TransactionBlock();let _0x30511d,_0x3f9254;_0x52cc93==COINS[_0x607c(0x162)]?(_0x30511d=_0x1ac056[_0x607c(0x149)][0x1][_0x607c(0x112)],_0x3f9254=_0x1ac056[_0x607c(0x149)][_0x607c(0x130)](0x2)['map'](_0x479174=>_0x479174['coinObjectId'])):(_0x30511d=_0x1ac056[_0x607c(0x149)][0x0][_0x607c(0x112)],_0x3f9254=_0x1ac056['data']['slice'](0x1)[_0x607c(0x195)](_0x2de50c=>_0x2de50c[_0x607c(0x112)])),await Helper['delay'](0x3e8,this[_0x607c(0x119)],_0x607c(0x18c)+_0x52cc93['SYMBOL'],this),await _0x5dc03a[_0x607c(0x14d)](_0x5dc03a[_0x607c(0x182)](_0x30511d),_0x3f9254['map'](_0x38fcdb=>_0x5dc03a[_0x607c(0x182)](_0x38fcdb))),await this[_0x607c(0x14a)](_0x5dc03a),await this[_0x607c(0x1a6)]();}catch(_0x5086d1){throw _0x5086d1;}}async['bridge'](_0x2cf4d7){const _0x5edc78=_0x5ca091;try{if(_0x2cf4d7==BRIDGE['MANGOBSC']||_0x2cf4d7==BRIDGE[_0x5edc78(0x1c0)]){const _0x318c2d=new TransactionBlock();let _0x4adfd0=await this[_0x5edc78(0x161)][_0x5edc78(0x18e)]({'owner':this['address'],'coinType':COINS[_0x5edc78(0x1a3)][_0x5edc78(0x1ae)]});if(_0x4adfd0['data'][_0x5edc78(0x137)]==0x0)while(coinToSwap[_0x5edc78(0x149)][_0x5edc78(0x137)]==0x0){_0x4adfd0=await this[_0x5edc78(0x161)][_0x5edc78(0x18e)]({'owner':this[_0x5edc78(0x147)],'coinType':COINS[_0x5edc78(0x1a3)]['TYPE']}),await this[_0x5edc78(0x1a6)](),await Helper[_0x5edc78(0x1b9)](0x2710,this[_0x5edc78(0x119)],_0x5edc78(0x139)+Helper[_0x5edc78(0x1aa)](0x2710)+_0x5edc78(0x192),this);}_0x4adfd0[_0x5edc78(0x149)][_0x5edc78(0x137)]>0x1&&(await this[_0x5edc78(0x196)](COINS['USDT']),_0x4adfd0=await this['client'][_0x5edc78(0x18e)]({'owner':this[_0x5edc78(0x147)],'coinType':COINS[_0x5edc78(0x1a3)][_0x5edc78(0x1ae)]}));let _0x56d1fa=Number(0.1)*Number(MIST_PER_MGO);const _0x2c120b=_0x318c2d['splitCoins'](_0x318c2d[_0x5edc78(0x182)](_0x4adfd0[_0x5edc78(0x149)][0x0][_0x5edc78(0x112)]),[_0x318c2d[_0x5edc78(0x11d)](_0x56d1fa)]);await Helper[_0x5edc78(0x1b9)](0x3e8,this[_0x5edc78(0x119)],_0x5edc78(0x15c)+parseFloat((Number(_0x56d1fa)/Number(MIST_PER_MGO))['toString']())[_0x5edc78(0x183)](0x2)+'\x20'+COINS[_0x5edc78(0x1a3)][_0x5edc78(0x1c3)]+_0x5edc78(0x199)+_0x2cf4d7+'\x20',this),_0x318c2d[_0x5edc78(0x16f)]({'target':MANGOBRIDGEPACKAGE[_0x5edc78(0x1b0)]+_0x5edc78(0x1b6),'typeArguments':[COINS[_0x5edc78(0x1a3)][_0x5edc78(0x1ae)]],'arguments':[_0x318c2d[_0x5edc78(0x182)](MANGOBRIDGEPACKAGE[_0x5edc78(0x190)]['BRIDGE']['BRIDGEXECUTOR']),_0x2c120b,_0x318c2d[_0x5edc78(0x11d)](this['evmAddress']),_0x318c2d['pure'](_0x2cf4d7),_0x318c2d[_0x5edc78(0x182)](MANGOBRIDGEPACKAGE['MODULE'][_0x5edc78(0x136)][_0x5edc78(0x1bb)])]}),await this['executeTx'](_0x318c2d),await Helper['delay'](0x3e8,this[_0x5edc78(0x119)],_0x5edc78(0x189)+_0x2cf4d7,this);}else{await Helper['delay'](0x3e8,this[_0x5edc78(0x119)],_0x5edc78(0x156)+(_0x2cf4d7==BRIDGE[_0x5edc78(0x142)]?_0x5edc78(0x16a):'BNB\x20Testnet')+_0x5edc78(0x1be),this);let _0x4853fc,_0x4b31b5;_0x2cf4d7==BRIDGE[_0x5edc78(0x142)]?(_0x4853fc=new ethers[(_0x5edc78(0x17c))](USDTMANGO['CA'],USDTMANGO[_0x5edc78(0x12e)],this[_0x5edc78(0x19f)]),_0x4b31b5=await _0x4853fc['allowance'](ERC1967PROXY['CA'],USDTMANGO['CA'])):(_0x4853fc=new ethers[(_0x5edc78(0x17c))](USDBSCMANGO['CA'],USDBSCMANGO[_0x5edc78(0x12e)],this[_0x5edc78(0x187)]),_0x4b31b5=await _0x4853fc[_0x5edc78(0x181)](ERC1967BSCPROXY['CA'],USDBSCMANGO['CA']));if(_0x4b31b5==0x0){await Helper[_0x5edc78(0x1b9)](0x3e8,this[_0x5edc78(0x119)],_0x5edc78(0x14b),this);const _0x286600=await _0x4853fc[_0x5edc78(0x16b)](_0x2cf4d7==BRIDGE[_0x5edc78(0x142)]?ERC1967PROXY['CA']:ERC1967BSCPROXY['CA'],ethers[_0x5edc78(0x153)]);await _0x286600[_0x5edc78(0x171)](),await Helper[_0x5edc78(0x1b9)](0x3e8,this[_0x5edc78(0x119)],_0x5edc78(0x186),this);}const _0x277312=accountList[_0x5edc78(0x1a8)](this[_0x5edc78(0x119)]),_0x69bfa=_0x2cf4d7==BRIDGE['ETHMANGO']?Config[_0x5edc78(0x17f)][_0x277312]:Config['BSCTOMANGOBRIDGERAWDATA'][_0x277312],_0x2c3e02={'to':_0x2cf4d7==BRIDGE[_0x5edc78(0x142)]?ERC1967PROXY['CA']:ERC1967BSCPROXY['CA'],'from':this[_0x5edc78(0x135)],'data':_0x69bfa};await this[_0x5edc78(0x19e)](_0x2c3e02,_0x2cf4d7),await Helper[_0x5edc78(0x1b9)](0x3e8,this[_0x5edc78(0x119)],_0x5edc78(0x120)+(_0x2cf4d7==BRIDGE[_0x5edc78(0x142)]?_0x5edc78(0x16a):_0x5edc78(0x193))+_0x5edc78(0x1be),this);}}catch(_0x280138){throw _0x280138;}}async[_0x5ca091(0x159)](_0x3e31bc,_0x180bee,_0x9a3c45,_0x44ec0e){const _0x569d9b=_0x5ca091,_0x7bae6b=new TransactionBlock();_0x7bae6b['moveCall']({'target':AMMPACKAGE[_0x569d9b(0x1b0)]+_0x569d9b(0x144),'typeArguments':_0x3e31bc,'arguments':[_0x7bae6b[_0x569d9b(0x182)](_0x180bee),_0x7bae6b[_0x569d9b(0x11d)](_0x44ec0e),_0x7bae6b[_0x569d9b(0x11d)](_0x9a3c45)]});const _0x1f65f9=await this[_0x569d9b(0x13a)](_0x7bae6b);return bcs['de'](_0x1f65f9[_0x569d9b(0x16c)][0x0]['returnValues'][0x0][0x1],Uint8Array[_0x569d9b(0x17e)](_0x1f65f9['results'][0x0][_0x569d9b(0x1a7)][0x0][0x0]));}async[_0x5ca091(0x132)](_0x1c9dd1){const _0x198c4c=_0x5ca091,_0x33d52b=new TransactionBlock();_0x33d52b['moveCall']({'target':AMMPACKAGE[_0x198c4c(0x1b0)]+_0x198c4c(0x188),'typeArguments':_0x1c9dd1,'arguments':[_0x33d52b['object'](AMMPACKAGE['MODULE'][_0x198c4c(0x145)][_0x198c4c(0x166)])]});const _0x2c99af=await this[_0x198c4c(0x13a)](_0x33d52b);return bcs['de'](_0x2c99af[_0x198c4c(0x16c)][0x0]['returnValues'][0x0][0x1],Uint8Array['from'](_0x2c99af[_0x198c4c(0x16c)][0x0][_0x198c4c(0x1a7)][0x0][0x0]));}async[_0x5ca091(0x14a)](_0x224d53){const _0x41d1cc=_0x5ca091;try{await Helper[_0x41d1cc(0x1b9)](0x3e8,this[_0x41d1cc(0x119)],'Executing\x20Tx\x20...',this);const _0x429962=await this[_0x41d1cc(0x161)][_0x41d1cc(0x172)]({'signer':this['wallet'],'transactionBlock':_0x224d53});return await Helper[_0x41d1cc(0x1b9)](0xbb8,this['acc'],'Tx\x20Executed\x20:\x20'+(_0x41d1cc(0x169)+_0x429962[_0x41d1cc(0x1bd)]),this),await this[_0x41d1cc(0x1a6)](),_0x429962;}catch(_0x415523){throw _0x415523;}}async[_0x5ca091(0x13a)](_0x3e6846){const _0x2fb778=_0x5ca091;try{const _0x3075ce=await this[_0x2fb778(0x161)][_0x2fb778(0x19d)]({'sender':this[_0x2fb778(0x147)],'transactionBlock':_0x3e6846});return _0x3075ce;}catch(_0x6ad6a0){throw _0x6ad6a0;}}async[_0x5ca091(0x19e)](_0x16603f,_0x4f4d08){const _0x20ecce=_0x5ca091;try{_0x19c949[_0x20ecce(0x15a)](_0x20ecce(0x1ba)+JSON[_0x20ecce(0x1b4)](Helper[_0x20ecce(0x125)](_0x16603f))),await Helper[_0x20ecce(0x1b9)](0x1f4,this[_0x20ecce(0x119)],_0x20ecce(0x1b8),this);const _0x484d53=_0x4f4d08==BRIDGE[_0x20ecce(0x142)]?await this[_0x20ecce(0x19f)]['sendTransaction'](_0x16603f):await this[_0x20ecce(0x187)][_0x20ecce(0x13e)](_0x16603f);await Helper['delay'](0x1f4,this[_0x20ecce(0x119)],_0x20ecce(0x133),this);const _0x55d3fa=await _0x484d53[_0x20ecce(0x171)]();_0x19c949[_0x20ecce(0x15a)](_0x20ecce(0x197)+JSON[_0x20ecce(0x1b4)](_0x55d3fa)),await Helper[_0x20ecce(0x1b9)](0x1388,this[_0x20ecce(0x119)],_0x20ecce(0x18a)+(_0x4f4d08==BRIDGE['ETHMANGO']?'https://sepolia.etherscan.io':_0x20ecce(0x16d))+_0x20ecce(0x164)+_0x55d3fa['hash'],this),await this[_0x20ecce(0x1a6)]();}catch(_0x409069){if(_0x409069['message'][_0x20ecce(0x13d)](_0x20ecce(0x13c)))await Helper['delay'](0x1388,this[_0x20ecce(0x119)],_0x409069['message'],this);else throw _0x409069;}}}
