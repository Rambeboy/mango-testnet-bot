const _0x4129bd=_0x2878;(function(_0x548e7d,_0x10875d){const _0x3d4cff=_0x2878,_0x3236fe=_0x548e7d();while(!![]){try{const _0xff9f15=-parseInt(_0x3d4cff(0x193))/0x1+-parseInt(_0x3d4cff(0x223))/0x2+parseInt(_0x3d4cff(0x18f))/0x3+parseInt(_0x3d4cff(0x1f7))/0x4*(-parseInt(_0x3d4cff(0x1ae))/0x5)+-parseInt(_0x3d4cff(0x1f2))/0x6+-parseInt(_0x3d4cff(0x1fc))/0x7+parseInt(_0x3d4cff(0x1b0))/0x8;if(_0xff9f15===_0x10875d)break;else _0x3236fe['push'](_0x3236fe['shift']());}catch(_0x5c727e){_0x3236fe['push'](_0x3236fe['shift']());}}}(_0x50ab,0x67971));import{getFullnodeUrl,MgoClient,MgoHTTPTransport}from'@mgonetwork/mango.js/client';import{DEFAULT_ED25519_DERIVATION_PATH,Ed25519Keypair}from'@mgonetwork/mango.js/keypairs/ed25519';import{Helper}from'../utils/helper.js';import{bcs,MIST_PER_MGO,TransactionBlock}from'@mgonetwork/mango.js';import{API}from'./api.js';import{SIGNPACKAGE}from'../packages/sign-package.js';import{AMMPACKAGE}from'../packages/amm-package.js';import{COINS}from'../coin/coins.js';import{BEINGDEXPACKAGE}from'../packages/beingdex.js';import{accountList}from'../../accounts/accounts.js';import{proxyList}from'../../config/proxy_list.js';import{MANGOBRIDGEPACKAGE}from'../packages/mangobridge.js';import{BRIDGE}from'../chain/dest_chain.js';import{ethers}from'ethers';import{ERC1967PROXY}from'../abi/erc1967_proxy.js';import{Config}from'../../config/config.js';function _0x50ab(){const _0x312df1=['CLOB','mergeCoin','reverse','TX\x20DATA\x20','floor','POST','Getting\x20Account\x20Balance...','Getting\x20Wallet\x20Information...','determineType','swap_exact_coinA_for_coinB','testnet','indexOf','Successfully\x20Bridge\x20Token\x20From\x20','2487730oKZvVL','evmBalance','13619008FzSPdp','Successfully\x20Swapping\x20','market_buy','client','bridgeTask','Connect\x20to\x20Mango\x20test\x20network\x20and\x20sign\x20to\x20receive\x20Gas','wait','CLOCK','results','toString','slice','sell','status','SIGN','https://ethereum-sepolia-rpc.publicnode.com','bscWallet','gas','BNB','Try\x20to\x20Swapping\x20','code','hash','bridge','Connecting\x20to\x20mango\x20DAPPS...','ETHMANGO','getExchangeTask','GLOBALPAUSESTATUSID','message','BNB\x20Testnet','getFaucet','stringify','wallet','Failed\x20to\x20Daily\x20Sign\x20In,\x20Possible\x20already\x20Sign\x20In','Not\x20Enought\x20BNB\x20Testnet\x20Balance,\x20Skipping','returnValues','\x20until\x20swap\x20balance\x20update','acc','0.00001','https://task-api.testnet.mangonetwork.io/base/getFaucet','getBalance','BRIDGE','ethProvider','exchange','toMgoAddress','SIGNPOOL','https://task-api.testnet.mangonetwork.io/base/addStep','digest','\x20to\x20','getBridgeTask','token','Gas','address','https://testnet.bscscan.com','Please\x20Provide\x20BRIDGERAWDATA\x20on\x20config.js','readTx','info','fromPhrase','::clob::','Successfully\x20Exchanging\x20','Sorry\x20this\x20bot\x20is\x20now\x20only\x20support\x20Seed\x20Pharse,\x20Please\x20use\x20Seed\x20Pharse\x20instead\x20of\x20Private\x20Key','getAllBalances','ETH\x20Sepolia','evmAddress','::bridge::bridge_token','getSwapTask','getPublicKey','splitCoins','1628274LFJDwp','msg','BRIDGEXECUTOR','Executing\x20Tx\x20...','length','4iLOVcS','evmWallet','Getting\x20Swap\x20Task\x20Details..','addStep','\x20Accounts\x20But\x20Provide\x20','1733522CBEhxP','504','MODULE','AMMCONFIG','Wallet','sendTransaction','\x20BRIDGERAWDATA','BRIDGERAWDATA','/tx/','GET','AMMSWAP','SYMBOL','You\x20have\x20','signAndExecuteTransactionBlock','signature','::sign::sign_in','map','Requesting\x20MGO\x20Faucet','Successfully\x20Get\x20Account\x20Balance','Tx\x20Confirmed\x20and\x20Finalizing:\x20','Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...','AIUSDTPOOL','find','serializeBigInt','Exchanging\x20','::amm_router::compute_out','MANGOBSC','log','object','Getting\x20User\x20Information..','Getting\x20Mango\x20Bridge\x20Task\x20Details..','MGO','ETH','connectMango','swapCalculate','balance','Merging\x20','Try\x20to\x20Bridge\x20','Successfully\x20Daily\x20Sign\x20In','616690WBuDAa','sort','https://task-api.testnet.mangonetwork.io/mgoUser/getMgoUser','swapTask','You\x20Have\x20','pure','delay','https://mgoscan.com/txblock/','getPool','toFixed','executeTx','fetch','USDT','https://bsc-testnet-rpc.publicnode.com','https://task-api.testnet.mangonetwork.io/base/taskDetail','now','mergeCoins','...','Getting\x20Discord\x20Task\x20Details..','executeEvmTx','msToTime','data','https://task-api.testnet.mangonetwork.io/mgoUser/loginMgoUserPublic','\x20to\x20Mango\x20Network\x20','encode','2097828EyOXMV','swap_exact_coinB_for_coinA','moveCall','formatEther','652431flduDI','Download\x20and\x20use\x20the\x20Beingdex\x20mobile\x20app','bscProvider','getCoins','discordTask','TYPE','coinObjectId','::amm_swap::get_pool_id','Getting\x20BeingDex\x20Task\x20Details..','ADDRESS','bscBalance','Tx\x20Executed\x20and\x20Confirmed\x20\x0a','Delaying\x20for\x20','checkIn'];_0x50ab=function(){return _0x312df1;};return _0x50ab();}import _0x21a177 from'../utils/logger.js';import{ERC1967BSCPROXY}from'../abi/erc1967_proxy_bsc.js';function _0x2878(_0xf66e5f,_0x1e332e){const _0x50ab03=_0x50ab();return _0x2878=function(_0x287835,_0x2b7bf4){_0x287835=_0x287835-0x179;let _0x5f3164=_0x50ab03[_0x287835];return _0x5f3164;},_0x2878(_0xf66e5f,_0x1e332e);}export class CoreService extends API{constructor(_0x3bf5a6){const _0xaf8081=_0x2878;let _0x500d78;const _0x22e66b=Helper[_0xaf8081(0x1a9)](_0x3bf5a6);if(!_0x22e66b)throw Error(_0xaf8081(0x1ea));if(Config['BRIDGERAWDATA']['length']==0x0)throw Error(_0xaf8081(0x1e4));if(Config[_0xaf8081(0x203)]['length']!=accountList[_0xaf8081(0x1f6)])throw Error(_0xaf8081(0x208)+accountList['length']+'\x20Accounts,\x20but\x20provide\x20'+Config['BRIDGERAWDATA']['length']+_0xaf8081(0x202));const _0x19a111=accountList[_0xaf8081(0x1ac)](_0x3bf5a6);if(proxyList[_0xaf8081(0x1f6)]!=accountList[_0xaf8081(0x1f6)]&&proxyList[_0xaf8081(0x1f6)]!=0x0)throw Error(_0xaf8081(0x17a)+accountList[_0xaf8081(0x1f6)]+_0xaf8081(0x1fb)+proxyList[_0xaf8081(0x1f6)]);_0x500d78=proxyList[_0x19a111],super(_0x500d78),this[_0xaf8081(0x1d3)]=_0x3bf5a6,this[_0xaf8081(0x1b3)]=new MgoClient({'transport':new MgoHTTPTransport({'url':getFullnodeUrl(_0xaf8081(0x1ab))})}),this[_0xaf8081(0x1d8)]=new ethers['JsonRpcProvider'](_0xaf8081(0x1be),0xaa36a7),this[_0xaf8081(0x195)]=new ethers['JsonRpcProvider'](_0xaf8081(0x183),0x61);}async['getAccountInfo'](){const _0x578522=_0x2878;try{await Helper[_0x578522(0x17c)](0x1f4,this[_0x578522(0x1d3)],_0x578522(0x1a8),this),this[_0x578522(0x1ce)]=Ed25519Keypair['deriveKeypair'](this['acc'],DEFAULT_ED25519_DERIVATION_PATH),this[_0x578522(0x1f8)]=ethers[_0x578522(0x200)][_0x578522(0x1e7)](this['acc'],this['ethProvider']),this[_0x578522(0x1bf)]=ethers['Wallet'][_0x578522(0x1e7)](this[_0x578522(0x1d3)],this[_0x578522(0x195)]),this[_0x578522(0x1ed)]=this['evmWallet'][_0x578522(0x1e2)],this[_0x578522(0x1e2)]=this['wallet'][_0x578522(0x1f0)]()[_0x578522(0x1da)](),await Helper[_0x578522(0x17c)](0x3e8,this['acc'],'Successfully\x20Get\x20Account\x20Information',this);}catch(_0x30502f){throw _0x30502f;}}async[_0x4129bd(0x21d)](){const _0x946d70=_0x4129bd;try{await Helper[_0x946d70(0x17c)](0x1f4,this['acc'],_0x946d70(0x1c6),this);const _0x4a2fc8=Math[_0x946d70(0x1a5)](Date[_0x946d70(0x185)]()/0x3e8),_0x468e3f={'address':this[_0x946d70(0x1e2)],'signTime':_0x4a2fc8,'signType':'Login'},_0x335e10=JSON[_0x946d70(0x1cd)](_0x468e3f),_0x392e49=new TextEncoder()[_0x946d70(0x18e)](_0x335e10),_0x922290=await this[_0x946d70(0x1ce)]['signPersonalMessage'](_0x392e49),_0x2aabae=await this['fetch'](_0x946d70(0x18c),_0x946d70(0x1a6),{'signData':_0x922290[_0x946d70(0x20a)],'address':this['address'],'signTime':_0x4a2fc8});if(_0x2aabae[_0x946d70(0x18b)]['code']==0x0)this[_0x946d70(0x1e0)]=_0x2aabae[_0x946d70(0x18b)][_0x946d70(0x18b)][_0x946d70(0x1e0)],await Helper['delay'](0x1f4,this[_0x946d70(0x1d3)],_0x2aabae['data']['msg'],this);else throw new Error(_0x2aabae[_0x946d70(0x18b)][_0x946d70(0x1f3)]);}catch(_0x418885){throw _0x418885;}}async['getMangoUser'](_0x2d67ae=![]){const _0x4d51ee=_0x4129bd;try{_0x2d67ae&&await Helper[_0x4d51ee(0x17c)](0x1f4,this[_0x4d51ee(0x1d3)],_0x4d51ee(0x219),this);const _0x67c7f8=await this[_0x4d51ee(0x181)](_0x4d51ee(0x225),_0x4d51ee(0x205),undefined,this['token']);if(_0x67c7f8[_0x4d51ee(0x18b)][_0x4d51ee(0x1c3)]==0x0)this['user']=_0x67c7f8['data'][_0x4d51ee(0x18b)],_0x2d67ae&&await Helper[_0x4d51ee(0x17c)](0x1f4,this[_0x4d51ee(0x1d3)],_0x67c7f8[_0x4d51ee(0x18b)]['msg'],this);else throw new Error(_0x67c7f8[_0x4d51ee(0x18b)][_0x4d51ee(0x1f3)]);}catch(_0x47f790){throw _0x47f790;}}async[_0x4129bd(0x1ef)](){const _0x1da951=_0x4129bd;try{await Helper[_0x1da951(0x17c)](0x7d0,this[_0x1da951(0x1d3)],_0x1da951(0x1f9),this);const _0x2fd5fb=await this[_0x1da951(0x181)](_0x1da951(0x184),_0x1da951(0x1a6),{'taskId':0x2,'type':0x0},this['token']);if(_0x2fd5fb[_0x1da951(0x18b)][_0x1da951(0x1c3)]==0x0)this[_0x1da951(0x179)]=_0x2fd5fb['data'][_0x1da951(0x18b)],await Helper['delay'](0x1f4,this[_0x1da951(0x1d3)],_0x2fd5fb['data']['msg'],this);else throw new Error(_0x2fd5fb['data']['msg']);}catch(_0x10304){throw _0x10304;}}async[_0x4129bd(0x1c8)](){const _0x2e5ea1=_0x4129bd;try{await Helper['delay'](0x7d0,this[_0x2e5ea1(0x1d3)],_0x2e5ea1(0x19b),this);const _0xe800d=await this['fetch'](_0x2e5ea1(0x184),_0x2e5ea1(0x1a6),{'taskId':0x5,'type':0x0},this[_0x2e5ea1(0x1e0)]);if(_0xe800d[_0x2e5ea1(0x18b)][_0x2e5ea1(0x1c3)]==0x0)this['exchangeTask']=_0xe800d[_0x2e5ea1(0x18b)][_0x2e5ea1(0x18b)],await Helper[_0x2e5ea1(0x17c)](0x1f4,this['acc'],_0xe800d[_0x2e5ea1(0x18b)]['msg'],this);else throw new Error(_0xe800d['data'][_0x2e5ea1(0x1f3)]);}catch(_0x24158a){throw _0x24158a;}}async['getDiscordTask'](){const _0x46a49e=_0x4129bd;try{await Helper[_0x46a49e(0x17c)](0x7d0,this[_0x46a49e(0x1d3)],_0x46a49e(0x188),this);const _0x19f3ef=await this[_0x46a49e(0x181)](_0x46a49e(0x184),_0x46a49e(0x1a6),{'taskId':0x3,'type':0x0},this[_0x46a49e(0x1e0)]);if(_0x19f3ef[_0x46a49e(0x18b)][_0x46a49e(0x1c3)]==0x0)this[_0x46a49e(0x197)]=_0x19f3ef[_0x46a49e(0x18b)][_0x46a49e(0x18b)],await Helper[_0x46a49e(0x17c)](0x1f4,this[_0x46a49e(0x1d3)],_0x19f3ef[_0x46a49e(0x18b)]['msg'],this);else throw new Error(_0x19f3ef[_0x46a49e(0x18b)][_0x46a49e(0x1f3)]);}catch(_0x1b790d){throw _0x1b790d;}}async[_0x4129bd(0x1df)](){const _0x3bb4a0=_0x4129bd;try{await Helper[_0x3bb4a0(0x17c)](0x7d0,this[_0x3bb4a0(0x1d3)],_0x3bb4a0(0x21a),this);const _0x3faaa0=await this[_0x3bb4a0(0x181)](_0x3bb4a0(0x184),'POST',{'taskId':0x4,'type':0x0},this[_0x3bb4a0(0x1e0)]);if(_0x3faaa0['data'][_0x3bb4a0(0x1c3)]==0x0)this[_0x3bb4a0(0x1b4)]=_0x3faaa0[_0x3bb4a0(0x18b)][_0x3bb4a0(0x18b)],await Helper[_0x3bb4a0(0x17c)](0x1f4,this[_0x3bb4a0(0x1d3)],_0x3faaa0['data'][_0x3bb4a0(0x1f3)],this);else throw new Error(_0x3faaa0[_0x3bb4a0(0x18b)][_0x3bb4a0(0x1f3)]);}catch(_0x3c8e98){throw _0x3c8e98;}}async[_0x4129bd(0x1fa)](_0x231d05,_0x3ae445,_0x3add00=!![]){const _0xcd1ba3=_0x4129bd;try{_0x3add00&&await Helper[_0xcd1ba3(0x17c)](0x7d0,this[_0xcd1ba3(0x1d3)],'Try\x20Completing\x20Step\x20'+_0x3ae445['label']+_0xcd1ba3(0x187),this),await this['fetch'](_0xcd1ba3(0x1dc),_0xcd1ba3(0x1a6),{'taskId':_0x231d05,'stepId':_0x3ae445[_0xcd1ba3(0x224)]},this[_0xcd1ba3(0x1e0)]);}catch(_0x3a5fab){throw _0x3a5fab;}}async[_0x4129bd(0x1d6)](_0x17de0a=![]){const _0x5235f4=_0x4129bd;try{_0x17de0a&&await Helper[_0x5235f4(0x17c)](0x1f4,this[_0x5235f4(0x1d3)],_0x5235f4(0x1a7),this);this[_0x5235f4(0x21f)]=await this[_0x5235f4(0x1b3)][_0x5235f4(0x1eb)]({'owner':this['address']}),this[_0x5235f4(0x21f)]=this[_0x5235f4(0x21f)]['map'](_0x1bb0fb=>{return _0x1bb0fb['totalBalance']=parseFloat((Number(_0x1bb0fb['totalBalance'])/Number(MIST_PER_MGO))['toFixed'](0x5)),_0x1bb0fb;});const _0x36cd3c=ethers['formatEther'](await this[_0x5235f4(0x1d8)][_0x5235f4(0x1d6)](this[_0x5235f4(0x1ed)])),_0x67e09=ethers[_0x5235f4(0x192)](await this['bscProvider'][_0x5235f4(0x1d6)](this['evmAddress']));this[_0x5235f4(0x1af)]=[{'SYMBOL':'ETH','BALANCE':_0x36cd3c}],this[_0x5235f4(0x19d)]=[{'SYMBOL':_0x5235f4(0x1c1),'BALANCE':_0x67e09}],_0x17de0a&&await Helper['delay'](0x3e8,this['acc'],_0x5235f4(0x20e),this);}catch(_0x1983e9){throw _0x1983e9;}}async[_0x4129bd(0x1cc)](){const _0x2a5edc=_0x4129bd;try{await Helper[_0x2a5edc(0x17c)](0x3e8,this[_0x2a5edc(0x1d3)],_0x2a5edc(0x20d),this);const _0x2b8c53=await this[_0x2a5edc(0x181)](_0x2a5edc(0x1d5),_0x2a5edc(0x1a6),{'chain':'0','type':![]},this['token']);if(_0x2b8c53[_0x2a5edc(0x1bc)]==0xc8)await Helper[_0x2a5edc(0x17c)](0x3e8,this['acc'],_0x2b8c53[_0x2a5edc(0x18b)][_0x2a5edc(0x1f3)],this),await this[_0x2a5edc(0x1d6)]();else throw _0x2b8c53;await this[_0x2a5edc(0x1fa)](0x1,{'label':_0x2a5edc(0x1b5),'value':_0x2a5edc(0x1e1),'extend':_0x2a5edc(0x194),'sort':0x0},![]);}catch(_0x282ce2){_0x282ce2[_0x2a5edc(0x1f3)]?await Helper['delay'](0xbb8,this[_0x2a5edc(0x1d3)],_0x282ce2[_0x2a5edc(0x18b)][_0x2a5edc(0x1f3)],this):await Helper[_0x2a5edc(0x17c)](0xbb8,this[_0x2a5edc(0x1d3)],_0x282ce2['data'][_0x2a5edc(0x1f3)],this);}}async[_0x4129bd(0x1a0)](){const _0x45b2d6=_0x4129bd;try{await Helper[_0x45b2d6(0x17c)](0x3e8,this[_0x45b2d6(0x1d3)],'Trying\x20to\x20Daily\x20Sign\x20In',this);const _0x205780=new TransactionBlock();_0x205780[_0x45b2d6(0x191)]({'target':SIGNPACKAGE[_0x45b2d6(0x19c)]+_0x45b2d6(0x20b),'arguments':[_0x205780['object'](SIGNPACKAGE[_0x45b2d6(0x1fe)][_0x45b2d6(0x1bd)][_0x45b2d6(0x1db)]),_0x205780[_0x45b2d6(0x218)](SIGNPACKAGE[_0x45b2d6(0x1fe)]['SIGN'][_0x45b2d6(0x1b7)])]}),await this[_0x45b2d6(0x180)](_0x205780),await Helper[_0x45b2d6(0x17c)](0x3e8,this[_0x45b2d6(0x1d3)],_0x45b2d6(0x222),this);}catch(_0x54ad1e){await Helper['delay'](0x3e8,this['acc'],_0x45b2d6(0x1cf),this);}}async['swap'](_0x22675c,_0x325a2f){const _0x2667bf=_0x4129bd;try{const _0x36e635=new TransactionBlock();let _0xa00c2d=await this[_0x2667bf(0x1b3)][_0x2667bf(0x196)]({'owner':this[_0x2667bf(0x1e2)],'coinType':_0x22675c[_0x2667bf(0x198)]});if(_0xa00c2d[_0x2667bf(0x18b)][_0x2667bf(0x1f6)]==0x0)while(_0xa00c2d[_0x2667bf(0x18b)]['length']==0x0){_0xa00c2d=await this['client'][_0x2667bf(0x196)]({'owner':this['address'],'coinType':_0x22675c[_0x2667bf(0x198)]}),await this[_0x2667bf(0x1d6)](),await Helper[_0x2667bf(0x17c)](0x2710,this['acc'],_0x2667bf(0x19f)+Helper[_0x2667bf(0x18a)](0x2710)+_0x2667bf(0x1d2),this);}_0xa00c2d[_0x2667bf(0x18b)]['length']>0x1&&(await this[_0x2667bf(0x1a2)](_0x22675c),_0xa00c2d=await this['client'][_0x2667bf(0x196)]({'owner':this['address'],'coinType':_0x22675c[_0x2667bf(0x198)]}));let _0x6832c3=Number(0.1)*Number(MIST_PER_MGO),_0x30e9cc;_0x22675c==COINS['MGO']?_0x30e9cc=_0x36e635[_0x2667bf(0x1f1)](_0x36e635[_0x2667bf(0x1c0)],[_0x36e635[_0x2667bf(0x17b)](_0x6832c3)]):(_0x6832c3=Number(_0xa00c2d[_0x2667bf(0x18b)][0x0]['balance']),_0x30e9cc=_0x36e635[_0x2667bf(0x1f1)](_0x36e635['object'](_0xa00c2d[_0x2667bf(0x18b)][0x0][_0x2667bf(0x199)]),[_0x36e635[_0x2667bf(0x17b)](_0x6832c3)]));await Helper[_0x2667bf(0x17c)](0x3e8,this[_0x2667bf(0x1d3)],_0x2667bf(0x1c2)+(_0x22675c==COINS[_0x2667bf(0x21b)]?parseFloat((Number(_0x6832c3)/Number(MIST_PER_MGO))[_0x2667bf(0x1b9)]())[_0x2667bf(0x17f)](0x2):parseFloat((Number(_0xa00c2d[_0x2667bf(0x18b)][0x0][_0x2667bf(0x21f)])/Number(MIST_PER_MGO))[_0x2667bf(0x1b9)]())[_0x2667bf(0x17f)](0x5))+'\x20'+_0x22675c[_0x2667bf(0x207)]+'\x20to\x20?\x20'+_0x325a2f[_0x2667bf(0x207)],this);const _0xb22b16=[_0x22675c,_0x325a2f][_0x2667bf(0x212)](_0x3d165c=>_0x3d165c==COINS[_0x2667bf(0x21b)]),_0x26b697=_0x22675c==COINS[_0x2667bf(0x21b)]||!_0xb22b16&&_0x22675c==COINS[_0x2667bf(0x182)]?[_0x22675c['TYPE'],_0x325a2f[_0x2667bf(0x198)]]:[_0x22675c['TYPE'],_0x325a2f[_0x2667bf(0x198)]][_0x2667bf(0x1a3)](),_0x44556f=await this[_0x2667bf(0x17e)](_0x26b697);let _0x27dc1b=await this[_0x2667bf(0x21e)](_0x26b697,_0x44556f,!!(_0x22675c==COINS[_0x2667bf(0x21b)]||!_0xb22b16&&_0x22675c==COINS[_0x2667bf(0x182)]),_0x6832c3);_0x27dc1b=Math['floor'](_0x27dc1b-_0x27dc1b*0xa/0x64),await Helper[_0x2667bf(0x17c)](0x3e8,this[_0x2667bf(0x1d3)],_0x2667bf(0x1c2)+parseFloat((Number(_0x6832c3)/Number(MIST_PER_MGO))[_0x2667bf(0x1b9)]())[_0x2667bf(0x17f)](0x2)+'\x20'+_0x22675c[_0x2667bf(0x207)]+_0x2667bf(0x1de)+parseFloat((Number(_0x27dc1b)/Number(MIST_PER_MGO))['toString']())['toFixed'](0x2)+'\x20'+_0x325a2f['SYMBOL'],this),_0x36e635[_0x2667bf(0x191)]({'target':AMMPACKAGE[_0x2667bf(0x19c)]+'::amm_script::'+(_0x22675c==COINS[_0x2667bf(0x21b)]||!_0xb22b16&&_0x22675c==COINS[_0x2667bf(0x182)]?_0x2667bf(0x1aa):_0x2667bf(0x190)),'typeArguments':_0x26b697,'arguments':[_0x36e635[_0x2667bf(0x218)](_0x44556f),_0x36e635[_0x2667bf(0x218)](AMMPACKAGE[_0x2667bf(0x1fe)][_0x2667bf(0x1ff)][_0x2667bf(0x1c9)]),_0x30e9cc,_0x36e635['pure'](_0x6832c3),_0x36e635[_0x2667bf(0x17b)](_0x27dc1b)]}),await this[_0x2667bf(0x180)](_0x36e635),await Helper[_0x2667bf(0x17c)](0x3e8,this['acc'],_0x2667bf(0x1b1)+parseFloat((Number(_0x6832c3)/Number(MIST_PER_MGO))['toString']())[_0x2667bf(0x17f)](0x2)+'\x20'+_0x22675c['SYMBOL']+'\x20to\x20'+parseFloat((Number(_0x27dc1b)/Number(MIST_PER_MGO))[_0x2667bf(0x1b9)]())[_0x2667bf(0x17f)](0x2)+'\x20'+_0x325a2f[_0x2667bf(0x207)],this);}catch(_0x1fac7d){throw _0x1fac7d;}}async[_0x4129bd(0x1d9)](_0x35d00f,_0x494c7f){const _0x48b27a=_0x4129bd;try{await Helper[_0x48b27a(0x17c)](0x3e8,this[_0x48b27a(0x1d3)],_0x48b27a(0x214)+_0x35d00f[_0x48b27a(0x207)]+_0x48b27a(0x1de)+_0x494c7f[_0x48b27a(0x207)],this);const _0x47783=_0x35d00f==COINS[_0x48b27a(0x182)]?[_0x35d00f[_0x48b27a(0x198)],_0x494c7f['TYPE']][_0x48b27a(0x1a3)]():[_0x35d00f['TYPE'],_0x494c7f[_0x48b27a(0x198)]],_0x3b81ef=new TransactionBlock();let _0x1fc7d0=await this['client'][_0x48b27a(0x196)]({'owner':this['address'],'coinType':_0x35d00f[_0x48b27a(0x198)]});if(_0x1fc7d0[_0x48b27a(0x18b)][_0x48b27a(0x1f6)]==0x0)while(_0x1fc7d0[_0x48b27a(0x18b)]['length']==0x0){_0x1fc7d0=await this[_0x48b27a(0x1b3)]['getCoins']({'owner':this[_0x48b27a(0x1e2)],'coinType':_0x35d00f[_0x48b27a(0x198)]}),await this[_0x48b27a(0x1d6)](),await Helper[_0x48b27a(0x17c)](0x2710,this[_0x48b27a(0x1d3)],_0x48b27a(0x19f)+Helper[_0x48b27a(0x18a)](0x2710)+'\x20until\x20swap\x20balance\x20update',this);}_0x1fc7d0[_0x48b27a(0x18b)]['length']>0x1&&(await this[_0x48b27a(0x1a2)](_0x35d00f),_0x1fc7d0=await this[_0x48b27a(0x1b3)][_0x48b27a(0x196)]({'owner':this[_0x48b27a(0x1e2)],'coinType':_0x35d00f['TYPE']}));const _0x317b4d=Number(_0x1fc7d0['data'][0x0]['balance']);_0x3b81ef[_0x48b27a(0x191)]({'target':BEINGDEXPACKAGE[_0x48b27a(0x19c)]+_0x48b27a(0x1e8)+(_0x35d00f==COINS['USDT']?_0x48b27a(0x1b2):_0x48b27a(0x1bb)),'typeArguments':_0x47783,'arguments':_0x35d00f==COINS['USDT']?[_0x3b81ef[_0x48b27a(0x218)](BEINGDEXPACKAGE[_0x48b27a(0x1fe)][_0x48b27a(0x1a1)][_0x48b27a(0x211)]),_0x3b81ef[_0x48b27a(0x218)](_0x1fc7d0[_0x48b27a(0x18b)][0x0][_0x48b27a(0x199)]),_0x3b81ef[_0x48b27a(0x17b)](_0x317b4d)]:[_0x3b81ef[_0x48b27a(0x218)](BEINGDEXPACKAGE[_0x48b27a(0x1fe)][_0x48b27a(0x1a1)][_0x48b27a(0x211)]),_0x3b81ef[_0x48b27a(0x218)](_0x1fc7d0[_0x48b27a(0x18b)][0x0][_0x48b27a(0x199)]),_0x3b81ef[_0x48b27a(0x17b)](0x1),_0x3b81ef[_0x48b27a(0x17b)](_0x317b4d)]}),await this[_0x48b27a(0x180)](_0x3b81ef),await Helper[_0x48b27a(0x17c)](0x3e8,this[_0x48b27a(0x1d3)],_0x48b27a(0x1e9)+parseFloat((Number(_0x317b4d)/Number(MIST_PER_MGO))[_0x48b27a(0x1b9)]())[_0x48b27a(0x17f)](0x2)+'\x20'+_0x35d00f[_0x48b27a(0x207)]+_0x48b27a(0x1de)+_0x494c7f[_0x48b27a(0x207)],this);}catch(_0x417482){throw _0x417482;}}async[_0x4129bd(0x1a2)](_0x2e331d){const _0x4891e0=_0x4129bd;try{const _0x825a29=await this[_0x4891e0(0x1b3)][_0x4891e0(0x196)]({'owner':this['address'],'coinType':_0x2e331d[_0x4891e0(0x198)]});if(_0x2e331d==COINS[_0x4891e0(0x21b)]&&_0x825a29[_0x4891e0(0x18b)][_0x4891e0(0x1f6)]<0x3)return;if(_0x825a29['data'][_0x4891e0(0x1f6)]<0x2)return;const _0x5e0aca=new TransactionBlock();let _0x13ae04,_0x49750e;_0x2e331d==COINS[_0x4891e0(0x21b)]?(_0x13ae04=_0x825a29['data'][0x1][_0x4891e0(0x199)],_0x49750e=_0x825a29[_0x4891e0(0x18b)][_0x4891e0(0x1ba)](0x2)[_0x4891e0(0x20c)](_0x411d1d=>_0x411d1d['coinObjectId'])):(_0x13ae04=_0x825a29[_0x4891e0(0x18b)][0x0][_0x4891e0(0x199)],_0x49750e=_0x825a29[_0x4891e0(0x18b)][_0x4891e0(0x1ba)](0x1)[_0x4891e0(0x20c)](_0x501019=>_0x501019[_0x4891e0(0x199)])),await Helper[_0x4891e0(0x17c)](0x3e8,this[_0x4891e0(0x1d3)],_0x4891e0(0x220)+_0x2e331d['SYMBOL'],this),await _0x5e0aca[_0x4891e0(0x186)](_0x5e0aca['object'](_0x13ae04),_0x49750e['map'](_0x304b40=>_0x5e0aca['object'](_0x304b40))),await this[_0x4891e0(0x180)](_0x5e0aca),await this[_0x4891e0(0x1d6)]();}catch(_0x1b03a8){throw _0x1b03a8;}}async[_0x4129bd(0x1c5)](_0x1f0459){const _0x2234bb=_0x4129bd;try{if(_0x1f0459==BRIDGE[_0x2234bb(0x216)]||_0x1f0459==BRIDGE['MANGOETH']){const _0x11f631=new TransactionBlock();let _0x196d8f=await this['client'][_0x2234bb(0x196)]({'owner':this['address'],'coinType':COINS['USDT']['TYPE']});if(_0x196d8f['data'][_0x2234bb(0x1f6)]==0x0)while(coinToSwap[_0x2234bb(0x18b)][_0x2234bb(0x1f6)]==0x0){_0x196d8f=await this[_0x2234bb(0x1b3)][_0x2234bb(0x196)]({'owner':this[_0x2234bb(0x1e2)],'coinType':COINS[_0x2234bb(0x182)][_0x2234bb(0x198)]}),await this[_0x2234bb(0x1d6)](),await Helper['delay'](0x2710,this[_0x2234bb(0x1d3)],'Delaying\x20for\x20'+Helper[_0x2234bb(0x18a)](0x2710)+_0x2234bb(0x1d2),this);}_0x196d8f[_0x2234bb(0x18b)]['length']>0x1&&(await this['mergeCoin'](COINS[_0x2234bb(0x182)]),_0x196d8f=await this[_0x2234bb(0x1b3)]['getCoins']({'owner':this['address'],'coinType':COINS[_0x2234bb(0x182)][_0x2234bb(0x198)]}));let _0x4cef0f=Number(0.001)*Number(MIST_PER_MGO);const _0x28ee8c=_0x11f631[_0x2234bb(0x1f1)](_0x11f631['object'](_0x196d8f['data'][0x0]['coinObjectId']),[_0x11f631[_0x2234bb(0x17b)](_0x4cef0f)]);await Helper[_0x2234bb(0x17c)](0x3e8,this['acc'],_0x2234bb(0x221)+parseFloat((Number(_0x4cef0f)/Number(MIST_PER_MGO))['toString']())['toFixed'](0x2)+'\x20'+COINS[_0x2234bb(0x182)][_0x2234bb(0x207)]+_0x2234bb(0x1de)+_0x1f0459+'\x20',this),_0x11f631[_0x2234bb(0x191)]({'target':MANGOBRIDGEPACKAGE[_0x2234bb(0x19c)]+_0x2234bb(0x1ee),'typeArguments':[COINS[_0x2234bb(0x182)][_0x2234bb(0x198)]],'arguments':[_0x11f631[_0x2234bb(0x218)](MANGOBRIDGEPACKAGE[_0x2234bb(0x1fe)][_0x2234bb(0x1d7)][_0x2234bb(0x1f4)]),_0x28ee8c,_0x11f631[_0x2234bb(0x17b)](this[_0x2234bb(0x1ed)]),_0x11f631[_0x2234bb(0x17b)](_0x1f0459),_0x11f631[_0x2234bb(0x218)](MANGOBRIDGEPACKAGE[_0x2234bb(0x1fe)]['BRIDGE']['CLOCK'])]}),await this[_0x2234bb(0x180)](_0x11f631),await Helper[_0x2234bb(0x17c)](0x3e8,this['acc'],'Successfully\x20Bridge\x20USDT\x20Token\x20From\x20ETH\x20Sepolia\x20to\x20'+_0x1f0459,this);}else{await Helper[_0x2234bb(0x17c)](0x3e8,this[_0x2234bb(0x1d3)],'Try\x20to\x20Bridge\x20Token\x20From\x20'+(_0x1f0459==BRIDGE[_0x2234bb(0x1c7)]?_0x2234bb(0x1ec):'BNB\x20Testnet')+_0x2234bb(0x18d),this);if(_0x1f0459==BRIDGE[_0x2234bb(0x1c7)]){const _0x4c1d78=this[_0x2234bb(0x1af)][_0x2234bb(0x212)](_0x34a1ff=>_0x34a1ff[_0x2234bb(0x207)]==_0x2234bb(0x21c));if(_0x4c1d78==0x0){await Helper['delay'](0xbb8,this['acc'],'Not\x20Enought\x20ETH\x20Sepolia\x20Balance,\x20Skipping',this);return;}}else{const _0x210c86=this[_0x2234bb(0x1af)]['find'](_0x28315b=>_0x28315b['SYMBOL']=='BNB');if(_0x210c86==0x0){await Helper['delay'](0xbb8,this[_0x2234bb(0x1d3)],_0x2234bb(0x1d0),this);return;}}const _0x39b363=accountList[_0x2234bb(0x1ac)](this[_0x2234bb(0x1d3)]),_0x65ea16=Config[_0x2234bb(0x203)][_0x39b363],_0x4e46da={'to':_0x1f0459==BRIDGE['ETHMANGO']?ERC1967PROXY['CA']:ERC1967BSCPROXY['CA'],'from':this[_0x2234bb(0x1ed)],'data':_0x65ea16,'value':ethers['parseEther'](_0x2234bb(0x1d4))};console[_0x2234bb(0x217)](_0x4e46da),await this[_0x2234bb(0x189)](_0x4e46da,_0x1f0459),await Helper[_0x2234bb(0x17c)](0x3e8,this[_0x2234bb(0x1d3)],_0x2234bb(0x1ad)+(_0x1f0459==BRIDGE[_0x2234bb(0x1c7)]?_0x2234bb(0x1ec):_0x2234bb(0x1cb))+_0x2234bb(0x18d),this);}}catch(_0x13ce1c){throw _0x13ce1c;}}async['swapCalculate'](_0x473432,_0x1f4176,_0x2fce23,_0x678d4a){const _0x420a18=_0x4129bd,_0x50b32b=new TransactionBlock();_0x50b32b['moveCall']({'target':AMMPACKAGE[_0x420a18(0x19c)]+_0x420a18(0x215),'typeArguments':_0x473432,'arguments':[_0x50b32b['object'](_0x1f4176),_0x50b32b[_0x420a18(0x17b)](_0x678d4a),_0x50b32b[_0x420a18(0x17b)](_0x2fce23)]});const _0x20264b=await this[_0x420a18(0x1e5)](_0x50b32b);return bcs['de'](_0x20264b[_0x420a18(0x1b8)][0x0]['returnValues'][0x0][0x1],Uint8Array['from'](_0x20264b[_0x420a18(0x1b8)][0x0][_0x420a18(0x1d1)][0x0][0x0]));}async['getPool'](_0x158954){const _0x4118f4=_0x4129bd,_0x2501fa=new TransactionBlock();_0x2501fa[_0x4118f4(0x191)]({'target':AMMPACKAGE['ADDRESS']+_0x4118f4(0x19a),'typeArguments':_0x158954,'arguments':[_0x2501fa[_0x4118f4(0x218)](AMMPACKAGE[_0x4118f4(0x1fe)][_0x4118f4(0x206)]['AMMFACTORY'])]});const _0x10f528=await this[_0x4118f4(0x1e5)](_0x2501fa);return bcs['de'](_0x10f528['results'][0x0][_0x4118f4(0x1d1)][0x0][0x1],Uint8Array['from'](_0x10f528[_0x4118f4(0x1b8)][0x0]['returnValues'][0x0][0x0]));}async[_0x4129bd(0x180)](_0x59a662){const _0x2b1593=_0x4129bd;try{await Helper[_0x2b1593(0x17c)](0x3e8,this[_0x2b1593(0x1d3)],_0x2b1593(0x1f5),this);const _0x44a34f=await this[_0x2b1593(0x1b3)][_0x2b1593(0x209)]({'signer':this[_0x2b1593(0x1ce)],'transactionBlock':_0x59a662});return await Helper[_0x2b1593(0x17c)](0xbb8,this[_0x2b1593(0x1d3)],'Tx\x20Executed\x20:\x20'+(_0x2b1593(0x17d)+_0x44a34f[_0x2b1593(0x1dd)]),this),await this[_0x2b1593(0x1d6)](),_0x44a34f;}catch(_0x363e14){throw _0x363e14;}}async[_0x4129bd(0x1e5)](_0xeffbe3){try{const _0x5e591b=await this['client']['devInspectTransactionBlock']({'sender':this['address'],'transactionBlock':_0xeffbe3});return _0x5e591b;}catch(_0x523630){throw _0x523630;}}async[_0x4129bd(0x189)](_0x39ed8b,_0x11455f){const _0x376c69=_0x4129bd;try{_0x21a177[_0x376c69(0x1e6)](_0x376c69(0x1a4)+JSON[_0x376c69(0x1cd)](Helper[_0x376c69(0x213)](_0x39ed8b))),await Helper['delay'](0x1f4,this[_0x376c69(0x1d3)],'Executing\x20TX...',this);const _0x4991d4=_0x11455f==BRIDGE['ETHMANGO']?await this[_0x376c69(0x1f8)]['sendTransaction'](_0x39ed8b):await this['bscWallet'][_0x376c69(0x201)](_0x39ed8b);await Helper[_0x376c69(0x17c)](0x1f4,this[_0x376c69(0x1d3)],_0x376c69(0x210),this);const _0xed2832=await _0x4991d4[_0x376c69(0x1b6)]();_0x21a177[_0x376c69(0x1e6)](_0x376c69(0x20f)+JSON[_0x376c69(0x1cd)](_0xed2832)),await Helper['delay'](0x1388,this['acc'],_0x376c69(0x19e)+(_0x11455f==BRIDGE[_0x376c69(0x1c7)]?'https://sepolia.etherscan.io':_0x376c69(0x1e3))+_0x376c69(0x204)+_0xed2832[_0x376c69(0x1c4)],this),await this[_0x376c69(0x1d6)]();}catch(_0x4a887b){if(_0x4a887b[_0x376c69(0x1ca)]['includes'](_0x376c69(0x1fd)))await Helper[_0x376c69(0x17c)](0x1388,this[_0x376c69(0x1d3)],_0x4a887b[_0x376c69(0x1ca)],this);else throw _0x4a887b;}}}
