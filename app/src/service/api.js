const _0x20ac88=_0x50e7;(function(_0x3cd9e8,_0x5b6afa){const _0x54cf7c=_0x50e7,_0x3af239=_0x3cd9e8();while(!![]){try{const _0x3775b8=-parseInt(_0x54cf7c(0x100))/0x1*(-parseInt(_0x54cf7c(0xff))/0x2)+-parseInt(_0x54cf7c(0xf7))/0x3+-parseInt(_0x54cf7c(0x10d))/0x4+parseInt(_0x54cf7c(0x104))/0x5+parseInt(_0x54cf7c(0x105))/0x6+-parseInt(_0x54cf7c(0x102))/0x7*(-parseInt(_0x54cf7c(0xf0))/0x8)+parseInt(_0x54cf7c(0xf2))/0x9*(parseInt(_0x54cf7c(0x10e))/0xa);if(_0x3775b8===_0x5b6afa)break;else _0x3af239['push'](_0x3af239['shift']());}catch(_0x22aea2){_0x3af239['push'](_0x3af239['shift']());}}}(_0x1cc0,0xe1b20));import _0x10e03e,{Response}from'node-fetch';import{Helper}from'../utils/helper.js';import _0x5c15fe from'../utils/logger.js';import{HttpsProxyAgent}from'https-proxy-agent';function _0x1cc0(){const _0x3cf534=['cors','4901351IlwxKA','body','942060dTxwqp','7379700ZFkuWi','empty','\x20:\x20','headers','statusText','stringify','en-US,en;q=0.9,id;q=0.8','includes','7345248KFGQid','1173890JjJira','message','fetch','Response\x20Data\x20:\x20','info','application/json,\x20text/plain,\x20*/*','json','8iIwfGs','status','45yJMBEp','randomUserAgent','mgo-token','application/json','text','2185731tEaZMP','get','Unexpected\x20error:\x20','generateHeaders','...','Response\x20:\x20','Content-Type','proxy','1567674APxvOl','1qSRUQY'];_0x1cc0=function(){return _0x3cf534;};return _0x1cc0();}function _0x50e7(_0x5606d1,_0x340e39){const _0x1cc0b2=_0x1cc0();return _0x50e7=function(_0x50e77d,_0x4893f6){_0x50e77d=_0x50e77d-0xef;let _0x3a663f=_0x1cc0b2[_0x50e77d];return _0x3a663f;},_0x50e7(_0x5606d1,_0x340e39);}export class API{constructor(_0x1d7cf2){const _0x4e9453=_0x50e7;this[_0x4e9453(0xfe)]=_0x1d7cf2,this['ua']=Helper[_0x4e9453(0xf3)]();}[_0x20ac88(0xfa)](_0x2c34ad,_0x4f75f5){const _0x517dea=_0x20ac88,_0x4070ae={'Accept':_0x517dea(0x113),'Accept-Language':_0x517dea(0x10b),'Content-Type':'application/json','Sec-Fetch-Dest':_0x517dea(0x106),'Sec-Fetch-Site':'same-site','Sec-Fetch-Mode':_0x517dea(0x101),'User-Agent':this['ua']};return _0x2c34ad&&(_0x4070ae[_0x517dea(0xf4)]=''+_0x2c34ad),_0x4f75f5&&Object['assign'](_0x4070ae,_0x4f75f5),_0x4070ae;}async[_0x20ac88(0x110)](_0x46ea20,_0x85caff='GET',_0x1728f2,_0x3f0ff1,_0x13a29d){const _0x179537=_0x20ac88,_0xaa47d6={'method':_0x85caff,'headers':this[_0x179537(0xfa)](_0x3f0ff1,_0x13a29d),'body':_0x1728f2?JSON['stringify'](_0x1728f2):undefined,'agent':this[_0x179537(0xfe)]?new HttpsProxyAgent(this['proxy']):undefined};try{_0x5c15fe[_0x179537(0x112)](_0x85caff+_0x179537(0x107)+_0x46ea20+'\x20'+(this[_0x179537(0xfe)]?this[_0x179537(0xfe)]:'')),_0x5c15fe['info']('Request\x20Header\x20:\x20'+JSON[_0x179537(0x10a)](_0xaa47d6[_0x179537(0x108)])),_0x5c15fe['info']('Request\x20Body\x20:\x20'+JSON[_0x179537(0x10a)](_0xaa47d6[_0x179537(0x103)]));const _0x112e29=await _0x10e03e(_0x46ea20,_0xaa47d6);if(!_0x112e29['ok'])throw _0x112e29;const _0x2093a2=_0x112e29['status'],_0x5dfa7d=_0x112e29[_0x179537(0x108)]['get'](_0x179537(0xfd));let _0x1f42cc;return _0x5dfa7d&&_0x5dfa7d[_0x179537(0x10c)](_0x179537(0xf5))?_0x1f42cc=await _0x112e29[_0x179537(0xef)]():_0x1f42cc={'message':await _0x112e29['text']()},_0x5c15fe[_0x179537(0x112)]('Response\x20:\x20'+_0x112e29[_0x179537(0xf1)]+'\x20'+_0x112e29['statusText']),_0x5c15fe['info'](_0x179537(0x111)+JSON[_0x179537(0x10a)](_0x1f42cc)+_0x179537(0xfb)),{'status':_0x2093a2,'data':_0x1f42cc};}catch(_0x366aee){if(_0x366aee instanceof Response){const _0x559286=_0x366aee[_0x179537(0xf1)],_0x15631f=_0x366aee[_0x179537(0x108)][_0x179537(0xf8)](_0x179537(0xfd));let _0x3f795d;_0x15631f&&_0x15631f[_0x179537(0x10c)](_0x179537(0xf5))?_0x3f795d=await _0x366aee[_0x179537(0xef)]():_0x3f795d={'message':await _0x366aee[_0x179537(0xf6)]()};_0x5c15fe['info'](_0x179537(0xfc)+_0x366aee['status']+'\x20'+_0x366aee[_0x179537(0x109)]),_0x5c15fe[_0x179537(0x112)]('Response\x20Data\x20:\x20'+JSON[_0x179537(0x10a)](_0x3f795d)+_0x179537(0xfb));if(_0x559286===0x193)return{'status':_0x559286,'data':_0x3f795d};else{if(_0x559286===0x1f8||_0x559286===0x194)console['error']('DETECT\x20API\x20CHANGE..\x20EXIT'),process['exit'](0x1);else throw new Error(_0x559286+'\x20-\x20'+_0x366aee['statusText']);}}else throw new Error(_0x179537(0xf9)+(_0x366aee[_0x179537(0x10f)]||_0x366aee));}}}
